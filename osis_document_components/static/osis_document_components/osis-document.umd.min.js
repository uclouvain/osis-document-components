(function(Me,c){typeof exports=="object"&&typeof module<"u"?c(require("@vue/runtime-dom"),require("vue")):typeof define=="function"&&define.amd?define(["@vue/runtime-dom","vue"],c):(Me=typeof globalThis<"u"?globalThis:Me||self,c(Me.Vue,Me.Vue))})(this,(function(Me,c){"use strict";function Tn(e,a){typeof console<"u"&&(console.warn("[intlify] "+e),a&&console.warn(a.stack))}const yt=typeof window<"u",Oe=(e,a=!1)=>a?Symbol.for(e):Symbol(e),wn=(e,a,i)=>On({l:e,k:a,s:i}),On=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Q=e=>typeof e=="number"&&isFinite(e),Cn=e=>Aa(e)==="[object Date]",vt=e=>Aa(e)==="[object RegExp]",Nt=e=>V(e)&&Object.keys(e).length===0,ie=Object.assign,Dn=Object.create,B=(e=null)=>Dn(e);let ka;const Vt=()=>ka||(ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:B());function Sa(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Ia(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ln(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,s,r)=>`${s}="${Ia(r)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,s,r)=>`${s}='${Ia(r)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{e=e.replace(n,"$1javascript&#58;")}),e}const kn=Object.prototype.hasOwnProperty;function he(e,a){return kn.call(e,a)}const Z=Array.isArray,K=e=>typeof e=="function",P=e=>typeof e=="string",z=e=>typeof e=="boolean",x=e=>e!==null&&typeof e=="object",Sn=e=>x(e)&&K(e.then)&&K(e.catch),Pa=Object.prototype.toString,Aa=e=>Pa.call(e),V=e=>{if(!x(e))return!1;const a=Object.getPrototypeOf(e);return a===null||a.constructor===Object},In=e=>e==null?"":Z(e)||V(e)&&e.toString===Pa?JSON.stringify(e,null,2):String(e);function Pn(e,a=""){return e.reduce((i,n,s)=>s===0?i+n:i+a+n,"")}function Tt(e){let a=e;return()=>++a}const wt=e=>!x(e)||Z(e);function Ot(e,a){if(wt(e)||wt(a))throw new Error("Invalid value");const i=[{src:e,des:a}];for(;i.length;){const{src:n,des:s}=i.pop();Object.keys(n).forEach(r=>{r!=="__proto__"&&(x(n[r])&&!x(s[r])&&(s[r]=Array.isArray(n[r])?[]:B()),wt(s[r])||wt(n[r])?s[r]=n[r]:i.push({src:n[r],des:s[r]}))})}}function An(e,a,i){return{line:e,column:a,offset:i}}function Ct(e,a,i){return{start:e,end:a}}const Rn=/\{([0-9a-zA-Z]+)\}/g;function Ra(e,...a){return a.length===1&&Mn(a[0])&&(a=a[0]),(!a||!a.hasOwnProperty)&&(a={}),e.replace(Rn,(i,n)=>a.hasOwnProperty(n)?a[n]:"")}const Ma=Object.assign,Ua=e=>typeof e=="string",Mn=e=>e!==null&&typeof e=="object";function Fa(e,a=""){return e.reduce((i,n,s)=>s===0?i+n:i+a+n,"")}const xt={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Un={[xt.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Fn(e,a,...i){const n=Ra(Un[e],...i||[]),s={message:String(n),code:e};return a&&(s.location=a),s}const M={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},$n={[M.EXPECTED_TOKEN]:"Expected token: '{0}'",[M.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[M.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[M.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[M.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[M.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[M.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[M.EMPTY_PLACEHOLDER]:"Empty placeholder",[M.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[M.INVALID_LINKED_FORMAT]:"Invalid linked format",[M.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[M.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[M.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[M.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[M.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[M.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Ye(e,a,i={}){const{domain:n,messages:s,args:r}=i,o=Ra((s||$n)[e]||"",...r||[]),l=new SyntaxError(String(o));return l.code=e,a&&(l.location=a),l.domain=n,l}function Vn(e){throw e}const Ne=" ",xn="\r",ne=`
`,Bn="\u2028",Wn="\u2029";function Hn(e){const a=e;let i=0,n=1,s=1,r=0;const o=v=>a[v]===xn&&a[v+1]===ne,l=v=>a[v]===ne,u=v=>a[v]===Wn,d=v=>a[v]===Bn,m=v=>o(v)||l(v)||u(v)||d(v),h=()=>i,g=()=>n,w=()=>s,D=()=>r,L=v=>o(v)||u(v)||d(v)?ne:a[v],C=()=>L(i),I=()=>L(i+r);function R(){return r=0,m(i)&&(n++,s=0),o(i)&&i++,i++,s++,a[i]}function b(){return o(i+r)&&r++,r++,a[i+r]}function y(){i=0,n=1,s=1,r=0}function O(v=0){r=v}function _(){const v=i+r;for(;v!==i;)R();r=0}return{index:h,line:g,column:w,peekOffset:D,charAt:L,currentChar:C,currentPeek:I,next:R,peek:b,reset:y,resetPeek:O,skipToPeek:_}}const Ce=void 0,Yn=".",$a="'",Xn="tokenizer";function jn(e,a={}){const i=a.location!==!1,n=Hn(e),s=()=>n.index(),r=()=>An(n.line(),n.column(),n.index()),o=r(),l=s(),u={currentType:14,offset:l,startLoc:o,endLoc:o,lastType:14,lastOffset:l,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},d=()=>u,{onError:m}=a;function h(f,p,N,...A){const j=d();if(p.column+=N,p.offset+=N,m){const U=i?Ct(j.startLoc,p):null,E=Ye(f,U,{domain:Xn,args:A});m(E)}}function g(f,p,N){f.endLoc=r(),f.currentType=p;const A={type:p};return i&&(A.loc=Ct(f.startLoc,f.endLoc)),N!=null&&(A.value=N),A}const w=f=>g(f,14);function D(f,p){return f.currentChar()===p?(f.next(),p):(h(M.EXPECTED_TOKEN,r(),0,p),"")}function L(f){let p="";for(;f.currentPeek()===Ne||f.currentPeek()===ne;)p+=f.currentPeek(),f.peek();return p}function C(f){const p=L(f);return f.skipToPeek(),p}function I(f){if(f===Ce)return!1;const p=f.charCodeAt(0);return p>=97&&p<=122||p>=65&&p<=90||p===95}function R(f){if(f===Ce)return!1;const p=f.charCodeAt(0);return p>=48&&p<=57}function b(f,p){const{currentType:N}=p;if(N!==2)return!1;L(f);const A=I(f.currentPeek());return f.resetPeek(),A}function y(f,p){const{currentType:N}=p;if(N!==2)return!1;L(f);const A=f.currentPeek()==="-"?f.peek():f.currentPeek(),j=R(A);return f.resetPeek(),j}function O(f,p){const{currentType:N}=p;if(N!==2)return!1;L(f);const A=f.currentPeek()===$a;return f.resetPeek(),A}function _(f,p){const{currentType:N}=p;if(N!==8)return!1;L(f);const A=f.currentPeek()===".";return f.resetPeek(),A}function v(f,p){const{currentType:N}=p;if(N!==9)return!1;L(f);const A=I(f.currentPeek());return f.resetPeek(),A}function S(f,p){const{currentType:N}=p;if(!(N===8||N===12))return!1;L(f);const A=f.currentPeek()===":";return f.resetPeek(),A}function k(f,p){const{currentType:N}=p;if(N!==10)return!1;const A=()=>{const U=f.currentPeek();return U==="{"?I(f.peek()):U==="@"||U==="%"||U==="|"||U===":"||U==="."||U===Ne||!U?!1:U===ne?(f.peek(),A()):F(f,!1)},j=A();return f.resetPeek(),j}function H(f){L(f);const p=f.currentPeek()==="|";return f.resetPeek(),p}function ee(f){const p=L(f),N=f.currentPeek()==="%"&&f.peek()==="{";return f.resetPeek(),{isModulo:N,hasSpace:p.length>0}}function F(f,p=!0){const N=(j=!1,U="",E=!1)=>{const T=f.currentPeek();return T==="{"?U==="%"?!1:j:T==="@"||!T?U==="%"?!0:j:T==="%"?(f.peek(),N(j,"%",!0)):T==="|"?U==="%"||E?!0:!(U===Ne||U===ne):T===Ne?(f.peek(),N(!0,Ne,E)):T===ne?(f.peek(),N(!0,ne,E)):!0},A=N();return p&&f.resetPeek(),A}function G(f,p){const N=f.currentChar();return N===Ce?Ce:p(N)?(f.next(),N):null}function le(f){const p=f.charCodeAt(0);return p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||p===95||p===36}function ae(f){return G(f,le)}function _e(f){const p=f.charCodeAt(0);return p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||p===95||p===36||p===45}function Pe(f){return G(f,_e)}function We(f){const p=f.charCodeAt(0);return p>=48&&p<=57}function He(f){return G(f,We)}function Je(f){const p=f.charCodeAt(0);return p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102}function fe(f){return G(f,Je)}function Ae(f){let p="",N="";for(;p=He(f);)N+=p;return N}function Ze(f){C(f);const p=f.currentChar();return p!=="%"&&h(M.EXPECTED_TOKEN,r(),0,p),f.next(),"%"}function et(f){let p="";for(;;){const N=f.currentChar();if(N==="{"||N==="}"||N==="@"||N==="|"||!N)break;if(N==="%")if(F(f))p+=N,f.next();else break;else if(N===Ne||N===ne)if(F(f))p+=N,f.next();else{if(H(f))break;p+=N,f.next()}else p+=N,f.next()}return p}function _t(f){C(f);let p="",N="";for(;p=Pe(f);)N+=p;return f.currentChar()===Ce&&h(M.UNTERMINATED_CLOSING_BRACE,r(),0),N}function va(f){C(f);let p="";return f.currentChar()==="-"?(f.next(),p+=`-${Ae(f)}`):p+=Ae(f),f.currentChar()===Ce&&h(M.UNTERMINATED_CLOSING_BRACE,r(),0),p}function Nn(f){return f!==$a&&f!==ne}function Na(f){C(f),D(f,"'");let p="",N="";for(;p=G(f,Nn);)p==="\\"?N+=Ta(f):N+=p;const A=f.currentChar();return A===ne||A===Ce?(h(M.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,r(),0),A===ne&&(f.next(),D(f,"'")),N):(D(f,"'"),N)}function Ta(f){const p=f.currentChar();switch(p){case"\\":case"'":return f.next(),`\\${p}`;case"u":return Ft(f,p,4);case"U":return Ft(f,p,6);default:return h(M.UNKNOWN_ESCAPE_SEQUENCE,r(),0,p),""}}function Ft(f,p,N){D(f,p);let A="";for(let j=0;j<N;j++){const U=fe(f);if(!U){h(M.INVALID_UNICODE_ESCAPE_SEQUENCE,r(),0,`\\${p}${A}${f.currentChar()}`);break}A+=U}return`\\${p}${A}`}function wa(f){return f!=="{"&&f!=="}"&&f!==Ne&&f!==ne}function Oa(f){C(f);let p="",N="";for(;p=G(f,wa);)N+=p;return N}function Ca(f){let p="",N="";for(;p=ae(f);)N+=p;return N}function Da(f){const p=N=>{const A=f.currentChar();return A==="{"||A==="%"||A==="@"||A==="|"||A==="("||A===")"||!A||A===Ne?N:(N+=A,f.next(),p(N))};return p("")}function bt(f){C(f);const p=D(f,"|");return C(f),p}function tt(f,p){let N=null;switch(f.currentChar()){case"{":return p.braceNest>=1&&h(M.NOT_ALLOW_NEST_PLACEHOLDER,r(),0),f.next(),N=g(p,2,"{"),C(f),p.braceNest++,N;case"}":return p.braceNest>0&&p.currentType===2&&h(M.EMPTY_PLACEHOLDER,r(),0),f.next(),N=g(p,3,"}"),p.braceNest--,p.braceNest>0&&C(f),p.inLinked&&p.braceNest===0&&(p.inLinked=!1),N;case"@":return p.braceNest>0&&h(M.UNTERMINATED_CLOSING_BRACE,r(),0),N=at(f,p)||w(p),p.braceNest=0,N;default:{let j=!0,U=!0,E=!0;if(H(f))return p.braceNest>0&&h(M.UNTERMINATED_CLOSING_BRACE,r(),0),N=g(p,1,bt(f)),p.braceNest=0,p.inLinked=!1,N;if(p.braceNest>0&&(p.currentType===5||p.currentType===6||p.currentType===7))return h(M.UNTERMINATED_CLOSING_BRACE,r(),0),p.braceNest=0,Et(f,p);if(j=b(f,p))return N=g(p,5,_t(f)),C(f),N;if(U=y(f,p))return N=g(p,6,va(f)),C(f),N;if(E=O(f,p))return N=g(p,7,Na(f)),C(f),N;if(!j&&!U&&!E)return N=g(p,13,Oa(f)),h(M.INVALID_TOKEN_IN_PLACEHOLDER,r(),0,N.value),C(f),N;break}}return N}function at(f,p){const{currentType:N}=p;let A=null;const j=f.currentChar();switch((N===8||N===9||N===12||N===10)&&(j===ne||j===Ne)&&h(M.INVALID_LINKED_FORMAT,r(),0),j){case"@":return f.next(),A=g(p,8,"@"),p.inLinked=!0,A;case".":return C(f),f.next(),g(p,9,".");case":":return C(f),f.next(),g(p,10,":");default:return H(f)?(A=g(p,1,bt(f)),p.braceNest=0,p.inLinked=!1,A):_(f,p)||S(f,p)?(C(f),at(f,p)):v(f,p)?(C(f),g(p,12,Ca(f))):k(f,p)?(C(f),j==="{"?tt(f,p)||A:g(p,11,Da(f))):(N===8&&h(M.INVALID_LINKED_FORMAT,r(),0),p.braceNest=0,p.inLinked=!1,Et(f,p))}}function Et(f,p){let N={type:14};if(p.braceNest>0)return tt(f,p)||w(p);if(p.inLinked)return at(f,p)||w(p);switch(f.currentChar()){case"{":return tt(f,p)||w(p);case"}":return h(M.UNBALANCED_CLOSING_BRACE,r(),0),f.next(),g(p,3,"}");case"@":return at(f,p)||w(p);default:{if(H(f))return N=g(p,1,bt(f)),p.braceNest=0,p.inLinked=!1,N;const{isModulo:j,hasSpace:U}=ee(f);if(j)return U?g(p,0,et(f)):g(p,4,Ze(f));if(F(f))return g(p,0,et(f));break}}return N}function La(){const{currentType:f,offset:p,startLoc:N,endLoc:A}=u;return u.lastType=f,u.lastOffset=p,u.lastStartLoc=N,u.lastEndLoc=A,u.offset=s(),u.startLoc=r(),n.currentChar()===Ce?g(u,14):Et(n,u)}return{nextToken:La,currentOffset:s,currentPosition:r,context:d}}const zn="parser",Gn=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Kn(e,a,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(a||i,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function qn(e={}){const a=e.location!==!1,{onError:i,onWarn:n}=e;function s(b,y,O,_,...v){const S=b.currentPosition();if(S.offset+=_,S.column+=_,i){const k=a?Ct(O,S):null,H=Ye(y,k,{domain:zn,args:v});i(H)}}function r(b,y,O,_,...v){const S=b.currentPosition();if(S.offset+=_,S.column+=_,n){const k=a?Ct(O,S):null;n(Fn(y,k,v))}}function o(b,y,O){const _={type:b};return a&&(_.start=y,_.end=y,_.loc={start:O,end:O}),_}function l(b,y,O,_){a&&(b.end=y,b.loc&&(b.loc.end=O))}function u(b,y){const O=b.context(),_=o(3,O.offset,O.startLoc);return _.value=y,l(_,b.currentOffset(),b.currentPosition()),_}function d(b,y){const O=b.context(),{lastOffset:_,lastStartLoc:v}=O,S=o(5,_,v);return S.index=parseInt(y,10),b.nextToken(),l(S,b.currentOffset(),b.currentPosition()),S}function m(b,y,O){const _=b.context(),{lastOffset:v,lastStartLoc:S}=_,k=o(4,v,S);return k.key=y,O===!0&&(k.modulo=!0),b.nextToken(),l(k,b.currentOffset(),b.currentPosition()),k}function h(b,y){const O=b.context(),{lastOffset:_,lastStartLoc:v}=O,S=o(9,_,v);return S.value=y.replace(Gn,Kn),b.nextToken(),l(S,b.currentOffset(),b.currentPosition()),S}function g(b){const y=b.nextToken(),O=b.context(),{lastOffset:_,lastStartLoc:v}=O,S=o(8,_,v);return y.type!==12?(s(b,M.UNEXPECTED_EMPTY_LINKED_MODIFIER,O.lastStartLoc,0),S.value="",l(S,_,v),{nextConsumeToken:y,node:S}):(y.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,me(y)),S.value=y.value||"",l(S,b.currentOffset(),b.currentPosition()),{node:S})}function w(b,y){const O=b.context(),_=o(7,O.offset,O.startLoc);return _.value=y,l(_,b.currentOffset(),b.currentPosition()),_}function D(b){const y=b.context(),O=o(6,y.offset,y.startLoc);let _=b.nextToken();if(_.type===9){const v=g(b);O.modifier=v.node,_=v.nextConsumeToken||b.nextToken()}switch(_.type!==10&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(_)),_=b.nextToken(),_.type===2&&(_=b.nextToken()),_.type){case 11:_.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(_)),O.key=w(b,_.value||"");break;case 5:_.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(_)),O.key=m(b,_.value||"");break;case 6:_.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(_)),O.key=d(b,_.value||"");break;case 7:_.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(_)),O.key=h(b,_.value||"");break;default:{s(b,M.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const v=b.context(),S=o(7,v.offset,v.startLoc);return S.value="",l(S,v.offset,v.startLoc),O.key=S,l(O,v.offset,v.startLoc),{nextConsumeToken:_,node:O}}}return l(O,b.currentOffset(),b.currentPosition()),{node:O}}function L(b){const y=b.context(),O=y.currentType===1?b.currentOffset():y.offset,_=y.currentType===1?y.endLoc:y.startLoc,v=o(2,O,_);v.items=[];let S=null,k=null;do{const F=S||b.nextToken();switch(S=null,F.type){case 0:F.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(F)),v.items.push(u(b,F.value||""));break;case 6:F.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(F)),v.items.push(d(b,F.value||""));break;case 4:k=!0;break;case 5:F.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(F)),v.items.push(m(b,F.value||"",!!k)),k&&(r(b,xt.USE_MODULO_SYNTAX,y.lastStartLoc,0,me(F)),k=null);break;case 7:F.value==null&&s(b,M.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,me(F)),v.items.push(h(b,F.value||""));break;case 8:{const G=D(b);v.items.push(G.node),S=G.nextConsumeToken||null;break}}}while(y.currentType!==14&&y.currentType!==1);const H=y.currentType===1?y.lastOffset:b.currentOffset(),ee=y.currentType===1?y.lastEndLoc:b.currentPosition();return l(v,H,ee),v}function C(b,y,O,_){const v=b.context();let S=_.items.length===0;const k=o(1,y,O);k.cases=[],k.cases.push(_);do{const H=L(b);S||(S=H.items.length===0),k.cases.push(H)}while(v.currentType!==14);return S&&s(b,M.MUST_HAVE_MESSAGES_IN_PLURAL,O,0),l(k,b.currentOffset(),b.currentPosition()),k}function I(b){const y=b.context(),{offset:O,startLoc:_}=y,v=L(b);return y.currentType===14?v:C(b,O,_,v)}function R(b){const y=jn(b,Ma({},e)),O=y.context(),_=o(0,O.offset,O.startLoc);return a&&_.loc&&(_.loc.source=b),_.body=I(y),e.onCacheKey&&(_.cacheKey=e.onCacheKey(b)),O.currentType!==14&&s(y,M.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,b[O.offset]||""),l(_,y.currentOffset(),y.currentPosition()),_}return{parse:R}}function me(e){if(e.type===14)return"EOF";const a=(e.value||"").replace(/\r?\n/gu,"\\n");return a.length>10?a.slice(0,9)+"…":a}function Qn(e,a={}){const i={ast:e,helpers:new Set};return{context:()=>i,helper:r=>(i.helpers.add(r),r)}}function Va(e,a){for(let i=0;i<e.length;i++)Bt(e[i],a)}function Bt(e,a){switch(e.type){case 1:Va(e.cases,a),a.helper("plural");break;case 2:Va(e.items,a);break;case 6:{Bt(e.key,a),a.helper("linked"),a.helper("type");break}case 5:a.helper("interpolate"),a.helper("list");break;case 4:a.helper("interpolate"),a.helper("named");break}}function Jn(e,a={}){const i=Qn(e);i.helper("normalize"),e.body&&Bt(e.body,i);const n=i.context();e.helpers=Array.from(n.helpers)}function Zn(e){const a=e.body;return a.type===2?xa(a):a.cases.forEach(i=>xa(i)),e}function xa(e){if(e.items.length===1){const a=e.items[0];(a.type===3||a.type===9)&&(e.static=a.value,delete a.value)}else{const a=[];for(let i=0;i<e.items.length;i++){const n=e.items[i];if(!(n.type===3||n.type===9)||n.value==null)break;a.push(n.value)}if(a.length===e.items.length){e.static=Fa(a);for(let i=0;i<e.items.length;i++){const n=e.items[i];(n.type===3||n.type===9)&&delete n.value}}}}const er="minifier";function Xe(e){switch(e.t=e.type,e.type){case 0:{const a=e;Xe(a.body),a.b=a.body,delete a.body;break}case 1:{const a=e,i=a.cases;for(let n=0;n<i.length;n++)Xe(i[n]);a.c=i,delete a.cases;break}case 2:{const a=e,i=a.items;for(let n=0;n<i.length;n++)Xe(i[n]);a.i=i,delete a.items,a.static&&(a.s=a.static,delete a.static);break}case 3:case 9:case 8:case 7:{const a=e;a.value&&(a.v=a.value,delete a.value);break}case 6:{const a=e;Xe(a.key),a.k=a.key,delete a.key,a.modifier&&(Xe(a.modifier),a.m=a.modifier,delete a.modifier);break}case 5:{const a=e;a.i=a.index,delete a.index;break}case 4:{const a=e;a.k=a.key,delete a.key;break}default:throw Ye(M.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:er,args:[e.type]})}delete e.type}const tr="parser";function ar(e,a){const{filename:i,breakLineCode:n,needIndent:s}=a,r=a.location!==!1,o={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:s,indentLevel:0};r&&e.loc&&(o.source=e.loc.source);const l=()=>o;function u(L,C){o.code+=L}function d(L,C=!0){const I=C?n:"";u(s?I+"  ".repeat(L):I)}function m(L=!0){const C=++o.indentLevel;L&&d(C)}function h(L=!0){const C=--o.indentLevel;L&&d(C)}function g(){d(o.indentLevel)}return{context:l,push:u,indent:m,deindent:h,newline:g,helper:L=>`_${L}`,needIndent:()=>o.needIndent}}function ir(e,a){const{helper:i}=e;e.push(`${i("linked")}(`),je(e,a.key),a.modifier?(e.push(", "),je(e,a.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function nr(e,a){const{helper:i,needIndent:n}=e;e.push(`${i("normalize")}([`),e.indent(n());const s=a.items.length;for(let r=0;r<s&&(je(e,a.items[r]),r!==s-1);r++)e.push(", ");e.deindent(n()),e.push("])")}function rr(e,a){const{helper:i,needIndent:n}=e;if(a.cases.length>1){e.push(`${i("plural")}([`),e.indent(n());const s=a.cases.length;for(let r=0;r<s&&(je(e,a.cases[r]),r!==s-1);r++)e.push(", ");e.deindent(n()),e.push("])")}}function sr(e,a){a.body?je(e,a.body):e.push("null")}function je(e,a){const{helper:i}=e;switch(a.type){case 0:sr(e,a);break;case 1:rr(e,a);break;case 2:nr(e,a);break;case 6:ir(e,a);break;case 8:e.push(JSON.stringify(a.value),a);break;case 7:e.push(JSON.stringify(a.value),a);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${a.index}))`,a);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(a.key)}))`,a);break;case 9:e.push(JSON.stringify(a.value),a);break;case 3:e.push(JSON.stringify(a.value),a);break;default:throw Ye(M.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:tr,args:[a.type]})}}const or=(e,a={})=>{const i=Ua(a.mode)?a.mode:"normal",n=Ua(a.filename)?a.filename:"message.intl";a.sourceMap;const s=a.breakLineCode!=null?a.breakLineCode:i==="arrow"?";":`
`,r=a.needIndent?a.needIndent:i!=="arrow",o=e.helpers||[],l=ar(e,{filename:n,breakLineCode:s,needIndent:r});l.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(r),o.length>0&&(l.push(`const { ${Fa(o.map(m=>`${m}: _${m}`),", ")} } = ctx`),l.newline()),l.push("return "),je(l,e),l.deindent(r),l.push("}"),delete e.helpers;const{code:u,map:d}=l.context();return{ast:e,code:u,map:d?d.toJSON():void 0}};function lr(e,a={}){const i=Ma({},a),n=!!i.jit,s=!!i.minify,r=i.optimize==null?!0:i.optimize,l=qn(i).parse(e);return n?(r&&Zn(l),s&&Xe(l),{ast:l,code:""}):(Jn(l,i),or(l,i))}function cr(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vt().__INTLIFY_PROD_DEVTOOLS__=!1)}function be(e){return x(e)&&Wt(e)===0&&(he(e,"b")||he(e,"body"))}const Ba=["b","body"];function ur(e){return De(e,Ba)}const Wa=["c","cases"];function dr(e){return De(e,Wa,[])}const Ha=["s","static"];function fr(e){return De(e,Ha)}const Ya=["i","items"];function hr(e){return De(e,Ya,[])}const Xa=["t","type"];function Wt(e){return De(e,Xa)}const ja=["v","value"];function Dt(e,a){const i=De(e,ja);if(i!=null)return i;throw nt(a)}const za=["m","modifier"];function mr(e){return De(e,za)}const Ga=["k","key"];function pr(e){const a=De(e,Ga);if(a)return a;throw nt(6)}function De(e,a,i){for(let n=0;n<a.length;n++){const s=a[n];if(he(e,s)&&e[s]!=null)return e[s]}return i}const Ka=[...Ba,...Wa,...Ha,...Ya,...Ga,...za,...ja,...Xa];function nt(e){return new Error(`unhandled node type: ${e}`)}const Le=[];Le[0]={w:[0],i:[3,0],"[":[4],o:[7]},Le[1]={w:[1],".":[2],"[":[4],o:[7]},Le[2]={w:[2],i:[3,0],0:[3,0]},Le[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Le[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Le[5]={"'":[4,0],o:8,l:[5,0]},Le[6]={'"':[4,0],o:8,l:[6,0]};const gr=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function _r(e){return gr.test(e)}function br(e){const a=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return a===i&&(a===34||a===39)?e.slice(1,-1):e}function Er(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function yr(e){const a=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:_r(a)?br(a):"*"+a}function vr(e){const a=[];let i=-1,n=0,s=0,r,o,l,u,d,m,h;const g=[];g[0]=()=>{o===void 0?o=l:o+=l},g[1]=()=>{o!==void 0&&(a.push(o),o=void 0)},g[2]=()=>{g[0](),s++},g[3]=()=>{if(s>0)s--,n=4,g[0]();else{if(s=0,o===void 0||(o=yr(o),o===!1))return!1;g[1]()}};function w(){const D=e[i+1];if(n===5&&D==="'"||n===6&&D==='"')return i++,l="\\"+D,g[0](),!0}for(;n!==null;)if(i++,r=e[i],!(r==="\\"&&w())){if(u=Er(r),h=Le[n],d=h[u]||h.l||8,d===8||(n=d[0],d[1]!==void 0&&(m=g[d[1]],m&&(l=r,m()===!1))))return;if(n===7)return a}}const qa=new Map;function Nr(e,a){return x(e)?e[a]:null}function Tr(e,a){if(!x(e))return null;let i=qa.get(a);if(i||(i=vr(a),i&&qa.set(a,i)),!i)return null;const n=i.length;let s=e,r=0;for(;r<n;){const o=i[r];if(Ka.includes(o)&&be(s))return null;const l=s[o];if(l===void 0||K(s))return null;s=l,r++}return s}const wr=e=>e,Or=e=>"",Cr="text",Dr=e=>e.length===0?"":Pn(e),Lr=In;function Qa(e,a){return e=Math.abs(e),a===2?e?e>1?1:0:1:e?Math.min(e,2):0}function kr(e){const a=Q(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Q(e.named.count)||Q(e.named.n))?Q(e.named.count)?e.named.count:Q(e.named.n)?e.named.n:a:a}function Sr(e,a){a.count||(a.count=e),a.n||(a.n=e)}function Ir(e={}){const a=e.locale,i=kr(e),n=x(e.pluralRules)&&P(a)&&K(e.pluralRules[a])?e.pluralRules[a]:Qa,s=x(e.pluralRules)&&P(a)&&K(e.pluralRules[a])?Qa:void 0,r=I=>I[n(i,I.length,s)],o=e.list||[],l=I=>o[I],u=e.named||B();Q(e.pluralIndex)&&Sr(i,u);const d=I=>u[I];function m(I){const R=K(e.messages)?e.messages(I):x(e.messages)?e.messages[I]:!1;return R||(e.parent?e.parent.message(I):Or)}const h=I=>e.modifiers?e.modifiers[I]:wr,g=V(e.processor)&&K(e.processor.normalize)?e.processor.normalize:Dr,w=V(e.processor)&&K(e.processor.interpolate)?e.processor.interpolate:Lr,D=V(e.processor)&&P(e.processor.type)?e.processor.type:Cr,C={list:l,named:d,plural:r,linked:(I,...R)=>{const[b,y]=R;let O="text",_="";R.length===1?x(b)?(_=b.modifier||_,O=b.type||O):P(b)&&(_=b||_):R.length===2&&(P(b)&&(_=b||_),P(y)&&(O=y||O));const v=m(I)(C),S=O==="vnode"&&Z(v)&&_?v[0]:v;return _?h(_)(S,O):S},message:m,type:D,interpolate:w,normalize:g,values:ie(B(),o,u)};return C}let rt=null;function Pr(e){rt=e}function Ar(e,a,i){rt&&rt.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:a,meta:i})}const Rr=Mr("function:translate");function Mr(e){return a=>rt&&rt.emit(e,a)}const Ur=xt.__EXTEND_POINT__,Ue=Tt(Ur),Fr={FALLBACK_TO_TRANSLATE:Ue(),CANNOT_FORMAT_NUMBER:Ue(),FALLBACK_TO_NUMBER_FORMAT:Ue(),CANNOT_FORMAT_DATE:Ue(),FALLBACK_TO_DATE_FORMAT:Ue(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Ue(),__EXTEND_POINT__:Ue()},Ja=M.__EXTEND_POINT__,Fe=Tt(Ja),Ee={INVALID_ARGUMENT:Ja,INVALID_DATE_ARGUMENT:Fe(),INVALID_ISO_DATE_ARGUMENT:Fe(),NOT_SUPPORT_NON_STRING_MESSAGE:Fe(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Fe(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Fe(),NOT_SUPPORT_LOCALE_TYPE:Fe(),__EXTEND_POINT__:Fe()};function Te(e){return Ye(e,null,void 0)}function Ht(e,a){return a.locale!=null?Za(a.locale):Za(e.locale)}let Yt;function Za(e){if(P(e))return e;if(K(e)){if(e.resolvedOnce&&Yt!=null)return Yt;if(e.constructor.name==="Function"){const a=e();if(Sn(a))throw Te(Ee.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Yt=a}else throw Te(Ee.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Te(Ee.NOT_SUPPORT_LOCALE_TYPE)}function $r(e,a,i){return[...new Set([i,...Z(a)?a:x(a)?Object.keys(a):P(a)?[a]:[i]])]}function ei(e,a,i){const n=P(i)?i:kt,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let r=s.__localeChainCache.get(n);if(!r){r=[];let o=[i];for(;Z(o);)o=ti(r,o,a);const l=Z(a)||!V(a)?a:a.default?a.default:null;o=P(l)?[l]:l,Z(o)&&ti(r,o,!1),s.__localeChainCache.set(n,r)}return r}function ti(e,a,i){let n=!0;for(let s=0;s<a.length&&z(n);s++){const r=a[s];P(r)&&(n=Vr(e,a[s],i))}return n}function Vr(e,a,i){let n;const s=a.split("-");do{const r=s.join("-");n=xr(e,r,i),s.splice(-1,1)}while(s.length&&n===!0);return n}function xr(e,a,i){let n=!1;if(!e.includes(a)&&(n=!0,a)){n=a[a.length-1]!=="!";const s=a.replace(/!/g,"");e.push(s),(Z(i)||V(i))&&i[s]&&(n=i[s])}return n}const Br="9.14.5",Lt=-1,kt="en-US",ai="",ii=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Wr(){return{upper:(e,a)=>a==="text"&&P(e)?e.toUpperCase():a==="vnode"&&x(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,a)=>a==="text"&&P(e)?e.toLowerCase():a==="vnode"&&x(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,a)=>a==="text"&&P(e)?ii(e):a==="vnode"&&x(e)&&"__v_isVNode"in e?ii(e.children):e}}let ni;function Hr(e){ni=e}let ri;function Yr(e){ri=e}let si;function Xr(e){si=e}let oi=null;const jr=e=>{oi=e},zr=()=>oi;let li=null;const ci=e=>{li=e},Gr=()=>li;let ui=0;function Kr(e={}){const a=K(e.onWarn)?e.onWarn:Tn,i=P(e.version)?e.version:Br,n=P(e.locale)||K(e.locale)?e.locale:kt,s=K(n)?kt:n,r=Z(e.fallbackLocale)||V(e.fallbackLocale)||P(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=V(e.messages)?e.messages:Xt(s),l=V(e.datetimeFormats)?e.datetimeFormats:Xt(s),u=V(e.numberFormats)?e.numberFormats:Xt(s),d=ie(B(),e.modifiers,Wr()),m=e.pluralRules||B(),h=K(e.missing)?e.missing:null,g=z(e.missingWarn)||vt(e.missingWarn)?e.missingWarn:!0,w=z(e.fallbackWarn)||vt(e.fallbackWarn)?e.fallbackWarn:!0,D=!!e.fallbackFormat,L=!!e.unresolving,C=K(e.postTranslation)?e.postTranslation:null,I=V(e.processor)?e.processor:null,R=z(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,y=K(e.messageCompiler)?e.messageCompiler:ni,O=K(e.messageResolver)?e.messageResolver:ri||Nr,_=K(e.localeFallbacker)?e.localeFallbacker:si||$r,v=x(e.fallbackContext)?e.fallbackContext:void 0,S=e,k=x(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,H=x(S.__numberFormatters)?S.__numberFormatters:new Map,ee=x(S.__meta)?S.__meta:{};ui++;const F={version:i,cid:ui,locale:n,fallbackLocale:r,messages:o,modifiers:d,pluralRules:m,missing:h,missingWarn:g,fallbackWarn:w,fallbackFormat:D,unresolving:L,postTranslation:C,processor:I,warnHtmlMessage:R,escapeParameter:b,messageCompiler:y,messageResolver:O,localeFallbacker:_,fallbackContext:v,onWarn:a,__meta:ee};return F.datetimeFormats=l,F.numberFormats=u,F.__datetimeFormatters=k,F.__numberFormatters=H,__INTLIFY_PROD_DEVTOOLS__&&Ar(F,i,ee),F}const Xt=e=>({[e]:B()});function jt(e,a,i,n,s){const{missing:r,onWarn:o}=e;if(r!==null){const l=r(e,i,a,s);return P(l)?l:a}else return a}function st(e,a,i){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,i,a)}function qr(e,a){return e===a?!1:e.split("-")[0]===a.split("-")[0]}function Qr(e,a){const i=a.indexOf(e);if(i===-1)return!1;for(let n=i+1;n<a.length;n++)if(qr(e,a[n]))return!0;return!1}function zt(e){return i=>Jr(i,e)}function Jr(e,a){const i=ur(a);if(i==null)throw nt(0);if(Wt(i)===1){const r=dr(i);return e.plural(r.reduce((o,l)=>[...o,di(e,l)],[]))}else return di(e,i)}function di(e,a){const i=fr(a);if(i!=null)return e.type==="text"?i:e.normalize([i]);{const n=hr(a).reduce((s,r)=>[...s,Gt(e,r)],[]);return e.normalize(n)}}function Gt(e,a){const i=Wt(a);switch(i){case 3:return Dt(a,i);case 9:return Dt(a,i);case 4:{const n=a;if(he(n,"k")&&n.k)return e.interpolate(e.named(n.k));if(he(n,"key")&&n.key)return e.interpolate(e.named(n.key));throw nt(i)}case 5:{const n=a;if(he(n,"i")&&Q(n.i))return e.interpolate(e.list(n.i));if(he(n,"index")&&Q(n.index))return e.interpolate(e.list(n.index));throw nt(i)}case 6:{const n=a,s=mr(n),r=pr(n);return e.linked(Gt(e,r),s?Gt(e,s):void 0,e.type)}case 7:return Dt(a,i);case 8:return Dt(a,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Zr=e=>e;let St=B();function es(e,a={}){let i=!1;const n=a.onError||Vn;return a.onError=s=>{i=!0,n(s)},{...lr(e,a),detectError:i}}function ts(e,a){if(P(e)){z(a.warnHtmlMessage)&&a.warnHtmlMessage;const n=(a.onCacheKey||Zr)(e),s=St[n];if(s)return s;const{ast:r,detectError:o}=es(e,{...a,location:!1,jit:!0}),l=zt(r);return o?l:St[n]=l}else{const i=e.cacheKey;if(i){const n=St[i];return n||(St[i]=zt(e))}else return zt(e)}}const fi=()=>"",ce=e=>K(e);function hi(e,...a){const{fallbackFormat:i,postTranslation:n,unresolving:s,messageCompiler:r,fallbackLocale:o,messages:l}=e,[u,d]=Kt(...a),m=z(d.missingWarn)?d.missingWarn:e.missingWarn,h=z(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,g=z(d.escapeParameter)?d.escapeParameter:e.escapeParameter,w=!!d.resolvedMessage,D=P(d.default)||z(d.default)?z(d.default)?r?u:()=>u:d.default:i?r?u:()=>u:"",L=i||D!=="",C=Ht(e,d);g&&as(d);let[I,R,b]=w?[u,C,l[C]||B()]:mi(e,u,C,o,h,m),y=I,O=u;if(!w&&!(P(y)||be(y)||ce(y))&&L&&(y=D,O=y),!w&&(!(P(y)||be(y)||ce(y))||!P(R)))return s?Lt:u;let _=!1;const v=()=>{_=!0},S=ce(y)?y:pi(e,u,R,y,O,v);if(_)return y;const k=rs(e,R,b,d),H=Ir(k),ee=is(e,S,H);let F=n?n(ee,u):ee;if(g&&P(F)&&(F=Ln(F)),__INTLIFY_PROD_DEVTOOLS__){const G={timestamp:Date.now(),key:P(u)?u:ce(y)?y.key:"",locale:R||(ce(y)?y.locale:""),format:P(y)?y:ce(y)?y.source:"",message:F};G.meta=ie({},e.__meta,zr()||{}),Rr(G)}return F}function as(e){Z(e.list)?e.list=e.list.map(a=>P(a)?Sa(a):a):x(e.named)&&Object.keys(e.named).forEach(a=>{P(e.named[a])&&(e.named[a]=Sa(e.named[a]))})}function mi(e,a,i,n,s,r){const{messages:o,onWarn:l,messageResolver:u,localeFallbacker:d}=e,m=d(e,n,i);let h=B(),g,w=null;const D="translate";for(let L=0;L<m.length&&(g=m[L],h=o[g]||B(),(w=u(h,a))===null&&(w=h[a]),!(P(w)||be(w)||ce(w)));L++)if(!Qr(g,m)){const C=jt(e,a,g,r,D);C!==a&&(w=C)}return[w,g,h]}function pi(e,a,i,n,s,r){const{messageCompiler:o,warnHtmlMessage:l}=e;if(ce(n)){const d=n;return d.locale=d.locale||i,d.key=d.key||a,d}if(o==null){const d=(()=>n);return d.locale=i,d.key=a,d}const u=o(n,ns(e,i,s,n,l,r));return u.locale=i,u.key=a,u.source=n,u}function is(e,a,i){return a(i)}function Kt(...e){const[a,i,n]=e,s=B();if(!P(a)&&!Q(a)&&!ce(a)&&!be(a))throw Te(Ee.INVALID_ARGUMENT);const r=Q(a)?String(a):(ce(a),a);return Q(i)?s.plural=i:P(i)?s.default=i:V(i)&&!Nt(i)?s.named=i:Z(i)&&(s.list=i),Q(n)?s.plural=n:P(n)?s.default=n:V(n)&&ie(s,n),[r,s]}function ns(e,a,i,n,s,r){return{locale:a,key:i,warnHtmlMessage:s,onError:o=>{throw r&&r(o),o},onCacheKey:o=>wn(a,i,o)}}function rs(e,a,i,n){const{modifiers:s,pluralRules:r,messageResolver:o,fallbackLocale:l,fallbackWarn:u,missingWarn:d,fallbackContext:m}=e,g={locale:a,modifiers:s,pluralRules:r,messages:w=>{let D=o(i,w);if(D==null&&m){const[,,L]=mi(m,w,a,l,u,d);D=o(L,w)}if(P(D)||be(D)){let L=!1;const I=pi(e,w,a,D,w,()=>{L=!0});return L?fi:I}else return ce(D)?D:fi}};return e.processor&&(g.processor=e.processor),n.list&&(g.list=n.list),n.named&&(g.named=n.named),Q(n.plural)&&(g.pluralIndex=n.plural),g}function gi(e,...a){const{datetimeFormats:i,unresolving:n,fallbackLocale:s,onWarn:r,localeFallbacker:o}=e,{__datetimeFormatters:l}=e,[u,d,m,h]=qt(...a),g=z(m.missingWarn)?m.missingWarn:e.missingWarn;z(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn;const w=!!m.part,D=Ht(e,m),L=o(e,s,D);if(!P(u)||u==="")return new Intl.DateTimeFormat(D,h).format(d);let C={},I,R=null;const b="datetime format";for(let _=0;_<L.length&&(I=L[_],C=i[I]||{},R=C[u],!V(R));_++)jt(e,u,I,g,b);if(!V(R)||!P(I))return n?Lt:u;let y=`${I}__${u}`;Nt(h)||(y=`${y}__${JSON.stringify(h)}`);let O=l.get(y);return O||(O=new Intl.DateTimeFormat(I,ie({},R,h)),l.set(y,O)),w?O.formatToParts(d):O.format(d)}const _i=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function qt(...e){const[a,i,n,s]=e,r=B();let o=B(),l;if(P(a)){const u=a.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw Te(Ee.INVALID_ISO_DATE_ARGUMENT);const d=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();l=new Date(d);try{l.toISOString()}catch{throw Te(Ee.INVALID_ISO_DATE_ARGUMENT)}}else if(Cn(a)){if(isNaN(a.getTime()))throw Te(Ee.INVALID_DATE_ARGUMENT);l=a}else if(Q(a))l=a;else throw Te(Ee.INVALID_ARGUMENT);return P(i)?r.key=i:V(i)&&Object.keys(i).forEach(u=>{_i.includes(u)?o[u]=i[u]:r[u]=i[u]}),P(n)?r.locale=n:V(n)&&(o=n),V(s)&&(o=s),[r.key||"",l,r,o]}function bi(e,a,i){const n=e;for(const s in i){const r=`${a}__${s}`;n.__datetimeFormatters.has(r)&&n.__datetimeFormatters.delete(r)}}function Ei(e,...a){const{numberFormats:i,unresolving:n,fallbackLocale:s,onWarn:r,localeFallbacker:o}=e,{__numberFormatters:l}=e,[u,d,m,h]=Qt(...a),g=z(m.missingWarn)?m.missingWarn:e.missingWarn;z(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn;const w=!!m.part,D=Ht(e,m),L=o(e,s,D);if(!P(u)||u==="")return new Intl.NumberFormat(D,h).format(d);let C={},I,R=null;const b="number format";for(let _=0;_<L.length&&(I=L[_],C=i[I]||{},R=C[u],!V(R));_++)jt(e,u,I,g,b);if(!V(R)||!P(I))return n?Lt:u;let y=`${I}__${u}`;Nt(h)||(y=`${y}__${JSON.stringify(h)}`);let O=l.get(y);return O||(O=new Intl.NumberFormat(I,ie({},R,h)),l.set(y,O)),w?O.formatToParts(d):O.format(d)}const yi=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Qt(...e){const[a,i,n,s]=e,r=B();let o=B();if(!Q(a))throw Te(Ee.INVALID_ARGUMENT);const l=a;return P(i)?r.key=i:V(i)&&Object.keys(i).forEach(u=>{yi.includes(u)?o[u]=i[u]:r[u]=i[u]}),P(n)?r.locale=n:V(n)&&(o=n),V(s)&&(o=s),[r.key||"",l,r,o]}function vi(e,a,i){const n=e;for(const s in i){const r=`${a}__${s}`;n.__numberFormatters.has(r)&&n.__numberFormatters.delete(r)}}cr();const ss="9.14.5";function os(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Vt().__INTLIFY_PROD_DEVTOOLS__=!1)}const ls=Fr.__EXTEND_POINT__,we=Tt(ls);we(),we(),we(),we(),we(),we(),we(),we(),we();const Ni=Ee.__EXTEND_POINT__,re=Tt(Ni),ue={UNEXPECTED_RETURN_TYPE:Ni,INVALID_ARGUMENT:re(),MUST_BE_CALL_SETUP_TOP:re(),NOT_INSTALLED:re(),NOT_AVAILABLE_IN_LEGACY_MODE:re(),REQUIRED_VALUE:re(),INVALID_VALUE:re(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:re(),NOT_INSTALLED_WITH_PROVIDE:re(),UNEXPECTED_ERROR:re(),NOT_COMPATIBLE_LEGACY_VUE_I18N:re(),BRIDGE_SUPPORT_VUE_2_ONLY:re(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:re(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:re(),__EXTEND_POINT__:re()};function pe(e,...a){return Ye(e,null,void 0)}const Jt=Oe("__translateVNode"),Zt=Oe("__datetimeParts"),ea=Oe("__numberParts"),cs=Oe("__setPluralRules"),us=Oe("__injectWithOption"),ta=Oe("__dispose");function ot(e){if(!x(e)||be(e))return e;for(const a in e)if(he(e,a))if(!a.includes("."))x(e[a])&&ot(e[a]);else{const i=a.split("."),n=i.length-1;let s=e,r=!1;for(let o=0;o<n;o++){if(i[o]==="__proto__")throw new Error(`unsafe key: ${i[o]}`);if(i[o]in s||(s[i[o]]=B()),!x(s[i[o]])){r=!0;break}s=s[i[o]]}if(r||(be(s)?Ka.includes(i[n])||delete e[a]:(s[i[n]]=e[a],delete e[a])),!be(s)){const o=s[i[n]];x(o)&&ot(o)}}return e}function Ti(e,a){const{messages:i,__i18n:n,messageResolver:s,flatJson:r}=a,o=V(i)?i:Z(n)?B():{[e]:B()};if(Z(n)&&n.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:u,resource:d}=l;u?(o[u]=o[u]||B(),Ot(d,o[u])):Ot(d,o)}else P(l)&&Ot(JSON.parse(l),o)}),s==null&&r)for(const l in o)he(o,l)&&ot(o[l]);return o}function wi(e){return e.type}function ds(e,a,i){let n=x(a.messages)?a.messages:B();"__i18nGlobal"in i&&(n=Ti(e.locale.value,{messages:n,__i18n:i.__i18nGlobal}));const s=Object.keys(n);s.length&&s.forEach(r=>{e.mergeLocaleMessage(r,n[r])});{if(x(a.datetimeFormats)){const r=Object.keys(a.datetimeFormats);r.length&&r.forEach(o=>{e.mergeDateTimeFormat(o,a.datetimeFormats[o])})}if(x(a.numberFormats)){const r=Object.keys(a.numberFormats);r.length&&r.forEach(o=>{e.mergeNumberFormat(o,a.numberFormats[o])})}}}function Oi(e){return c.createVNode(c.Text,null,e,0)}const Ci="__INTLIFY_META__",Di=()=>[],fs=()=>!1;let Li=0;function ki(e){return((a,i,n,s)=>e(i,n,c.getCurrentInstance()||void 0,s))}const hs=()=>{const e=c.getCurrentInstance();let a=null;return e&&(a=wi(e)[Ci])?{[Ci]:a}:null};function Si(e={},a){const{__root:i,__injectWithOption:n}=e,s=i===void 0,r=e.flatJson,o=yt?c.ref:c.shallowRef,l=!!e.translateExistCompatible;let u=z(e.inheritLocale)?e.inheritLocale:!0;const d=o(i&&u?i.locale.value:P(e.locale)?e.locale:kt),m=o(i&&u?i.fallbackLocale.value:P(e.fallbackLocale)||Z(e.fallbackLocale)||V(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:d.value),h=o(Ti(d.value,e)),g=o(V(e.datetimeFormats)?e.datetimeFormats:{[d.value]:{}}),w=o(V(e.numberFormats)?e.numberFormats:{[d.value]:{}});let D=i?i.missingWarn:z(e.missingWarn)||vt(e.missingWarn)?e.missingWarn:!0,L=i?i.fallbackWarn:z(e.fallbackWarn)||vt(e.fallbackWarn)?e.fallbackWarn:!0,C=i?i.fallbackRoot:z(e.fallbackRoot)?e.fallbackRoot:!0,I=!!e.fallbackFormat,R=K(e.missing)?e.missing:null,b=K(e.missing)?ki(e.missing):null,y=K(e.postTranslation)?e.postTranslation:null,O=i?i.warnHtmlMessage:z(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const v=i?i.modifiers:V(e.modifiers)?e.modifiers:{};let S=e.pluralRules||i&&i.pluralRules,k;k=(()=>{s&&ci(null);const E={version:ss,locale:d.value,fallbackLocale:m.value,messages:h.value,modifiers:v,pluralRules:S,missing:b===null?void 0:b,missingWarn:D,fallbackWarn:L,fallbackFormat:I,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:O,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};E.datetimeFormats=g.value,E.numberFormats=w.value,E.__datetimeFormatters=V(k)?k.__datetimeFormatters:void 0,E.__numberFormatters=V(k)?k.__numberFormatters:void 0;const T=Kr(E);return s&&ci(T),T})(),st(k,d.value,m.value);function ee(){return[d.value,m.value,h.value,g.value,w.value]}const F=c.computed({get:()=>d.value,set:E=>{d.value=E,k.locale=d.value}}),G=c.computed({get:()=>m.value,set:E=>{m.value=E,k.fallbackLocale=m.value,st(k,d.value,E)}}),le=c.computed(()=>h.value),ae=c.computed(()=>g.value),_e=c.computed(()=>w.value);function Pe(){return K(y)?y:null}function We(E){y=E,k.postTranslation=E}function He(){return R}function Je(E){E!==null&&(b=ki(E)),R=E,k.missing=b}const fe=(E,T,W,q,Re,$t)=>{ee();let it;try{__INTLIFY_PROD_DEVTOOLS__,s||(k.fallbackContext=i?Gr():void 0),it=E(k)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(k.fallbackContext=void 0)}if(W!=="translate exists"&&Q(it)&&it===Lt||W==="translate exists"&&!it){const[nc,cc]=T();return i&&C?q(i):Re(nc)}else{if($t(it))return it;throw pe(ue.UNEXPECTED_RETURN_TYPE)}};function Ae(...E){return fe(T=>Reflect.apply(hi,null,[T,...E]),()=>Kt(...E),"translate",T=>Reflect.apply(T.t,T,[...E]),T=>T,T=>P(T))}function Ze(...E){const[T,W,q]=E;if(q&&!x(q))throw pe(ue.INVALID_ARGUMENT);return Ae(T,W,ie({resolvedMessage:!0},q||{}))}function et(...E){return fe(T=>Reflect.apply(gi,null,[T,...E]),()=>qt(...E),"datetime format",T=>Reflect.apply(T.d,T,[...E]),()=>ai,T=>P(T))}function _t(...E){return fe(T=>Reflect.apply(Ei,null,[T,...E]),()=>Qt(...E),"number format",T=>Reflect.apply(T.n,T,[...E]),()=>ai,T=>P(T))}function va(E){return E.map(T=>P(T)||Q(T)||z(T)?Oi(String(T)):T)}const Na={normalize:va,interpolate:E=>E,type:"vnode"};function Ta(...E){return fe(T=>{let W;const q=T;try{q.processor=Na,W=Reflect.apply(hi,null,[q,...E])}finally{q.processor=null}return W},()=>Kt(...E),"translate",T=>T[Jt](...E),T=>[Oi(T)],T=>Z(T))}function Ft(...E){return fe(T=>Reflect.apply(Ei,null,[T,...E]),()=>Qt(...E),"number format",T=>T[ea](...E),Di,T=>P(T)||Z(T))}function wa(...E){return fe(T=>Reflect.apply(gi,null,[T,...E]),()=>qt(...E),"datetime format",T=>T[Zt](...E),Di,T=>P(T)||Z(T))}function Oa(E){S=E,k.pluralRules=S}function Ca(E,T){return fe(()=>{if(!E)return!1;const W=P(T)?T:d.value,q=tt(W),Re=k.messageResolver(q,E);return l?Re!=null:be(Re)||ce(Re)||P(Re)},()=>[E],"translate exists",W=>Reflect.apply(W.te,W,[E,T]),fs,W=>z(W))}function Da(E){let T=null;const W=ei(k,m.value,d.value);for(let q=0;q<W.length;q++){const Re=h.value[W[q]]||{},$t=k.messageResolver(Re,E);if($t!=null){T=$t;break}}return T}function bt(E){const T=Da(E);return T??(i?i.tm(E)||{}:{})}function tt(E){return h.value[E]||{}}function at(E,T){if(r){const W={[E]:T};for(const q in W)he(W,q)&&ot(W[q]);T=W[E]}h.value[E]=T,k.messages=h.value}function Et(E,T){h.value[E]=h.value[E]||{};const W={[E]:T};if(r)for(const q in W)he(W,q)&&ot(W[q]);T=W[E],Ot(T,h.value[E]),k.messages=h.value}function La(E){return g.value[E]||{}}function f(E,T){g.value[E]=T,k.datetimeFormats=g.value,bi(k,E,T)}function p(E,T){g.value[E]=ie(g.value[E]||{},T),k.datetimeFormats=g.value,bi(k,E,T)}function N(E){return w.value[E]||{}}function A(E,T){w.value[E]=T,k.numberFormats=w.value,vi(k,E,T)}function j(E,T){w.value[E]=ie(w.value[E]||{},T),k.numberFormats=w.value,vi(k,E,T)}Li++,i&&yt&&(c.watch(i.locale,E=>{u&&(d.value=E,k.locale=E,st(k,d.value,m.value))}),c.watch(i.fallbackLocale,E=>{u&&(m.value=E,k.fallbackLocale=E,st(k,d.value,m.value))}));const U={id:Li,locale:F,fallbackLocale:G,get inheritLocale(){return u},set inheritLocale(E){u=E,E&&i&&(d.value=i.locale.value,m.value=i.fallbackLocale.value,st(k,d.value,m.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:le,get modifiers(){return v},get pluralRules(){return S||{}},get isGlobal(){return s},get missingWarn(){return D},set missingWarn(E){D=E,k.missingWarn=D},get fallbackWarn(){return L},set fallbackWarn(E){L=E,k.fallbackWarn=L},get fallbackRoot(){return C},set fallbackRoot(E){C=E},get fallbackFormat(){return I},set fallbackFormat(E){I=E,k.fallbackFormat=I},get warnHtmlMessage(){return O},set warnHtmlMessage(E){O=E,k.warnHtmlMessage=E},get escapeParameter(){return _},set escapeParameter(E){_=E,k.escapeParameter=E},t:Ae,getLocaleMessage:tt,setLocaleMessage:at,mergeLocaleMessage:Et,getPostTranslationHandler:Pe,setPostTranslationHandler:We,getMissingHandler:He,setMissingHandler:Je,[cs]:Oa};return U.datetimeFormats=ae,U.numberFormats=_e,U.rt=Ze,U.te=Ca,U.tm=bt,U.d=et,U.n=_t,U.getDateTimeFormat=La,U.setDateTimeFormat=f,U.mergeDateTimeFormat=p,U.getNumberFormat=N,U.setNumberFormat=A,U.mergeNumberFormat=j,U[us]=n,U[Jt]=Ta,U[Zt]=wa,U[ea]=Ft,U}const aa={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function ms({slots:e},a){return a.length===1&&a[0]==="default"?(e.default?e.default():[]).reduce((n,s)=>[...n,...s.type===c.Fragment?s.children:[s]],[]):a.reduce((i,n)=>{const s=e[n];return s&&(i[n]=s()),i},B())}function Ii(e){return c.Fragment}const Pi=c.defineComponent({name:"i18n-t",props:ie({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Q(e)||!isNaN(e)}},aa),setup(e,a){const{slots:i,attrs:n}=a,s=e.i18n||$e({useScope:e.scope,__useComponent:!0});return()=>{const r=Object.keys(i).filter(h=>h!=="_"),o=B();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=P(e.plural)?+e.plural:e.plural);const l=ms(a,r),u=s[Jt](e.keypath,l,o),d=ie(B(),n),m=P(e.tag)||x(e.tag)?e.tag:Ii();return c.h(m,d,u)}}});function ps(e){return Z(e)&&!P(e[0])}function Ai(e,a,i,n){const{slots:s,attrs:r}=a;return()=>{const o={part:!0};let l=B();e.locale&&(o.locale=e.locale),P(e.format)?o.key=e.format:x(e.format)&&(P(e.format.key)&&(o.key=e.format.key),l=Object.keys(e.format).reduce((g,w)=>i.includes(w)?ie(B(),g,{[w]:e.format[w]}):g,B()));const u=n(e.value,o,l);let d=[o.key];Z(u)?d=u.map((g,w)=>{const D=s[g.type],L=D?D({[g.type]:g.value,index:w,parts:u}):[g.value];return ps(L)&&(L[0].key=`${g.type}-${w}`),L}):P(u)&&(d=[u]);const m=ie(B(),r),h=P(e.tag)||x(e.tag)?e.tag:Ii();return c.h(h,m,d)}}const Ri=c.defineComponent({name:"i18n-n",props:ie({value:{type:Number,required:!0},format:{type:[String,Object]}},aa),setup(e,a){const i=e.i18n||$e({useScope:e.scope,__useComponent:!0});return Ai(e,a,yi,(...n)=>i[ea](...n))}}),Mi=c.defineComponent({name:"i18n-d",props:ie({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},aa),setup(e,a){const i=e.i18n||$e({useScope:e.scope,__useComponent:!0});return Ai(e,a,_i,(...n)=>i[Zt](...n))}});function gs(e,a){const i=e;if(e.mode==="composition")return i.__getInstance(a)||e.global;{const n=i.__getInstance(a);return n!=null?n.__composer:e.global.__composer}}function _s(e){const a=o=>{const{instance:l,modifiers:u,value:d}=o;if(!l||!l.$)throw pe(ue.UNEXPECTED_ERROR);const m=gs(e,l.$),h=Ui(d);return[Reflect.apply(m.t,m,[...Fi(h)]),m]};return{created:(o,l)=>{const[u,d]=a(l);yt&&e.global===d&&(o.__i18nWatcher=c.watch(d.locale,()=>{l.instance&&l.instance.$forceUpdate()})),o.__composer=d,o.textContent=u},unmounted:o=>{yt&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:l})=>{if(o.__composer){const u=o.__composer,d=Ui(l);o.textContent=Reflect.apply(u.t,u,[...Fi(d)])}},getSSRProps:o=>{const[l]=a(o);return{textContent:l}}}}function Ui(e){if(P(e))return{path:e};if(V(e)){if(!("path"in e))throw pe(ue.REQUIRED_VALUE,"path");return e}else throw pe(ue.INVALID_VALUE)}function Fi(e){const{path:a,locale:i,args:n,choice:s,plural:r}=e,o={},l=n||{};return P(i)&&(o.locale=i),Q(s)&&(o.plural=s),Q(r)&&(o.plural=r),[a,l,o]}function bs(e,a,...i){const n=V(i[0])?i[0]:{},s=!!n.useI18nComponentName;(!z(n.globalInstall)||n.globalInstall)&&([s?"i18n":Pi.name,"I18nT"].forEach(o=>e.component(o,Pi)),[Ri.name,"I18nN"].forEach(o=>e.component(o,Ri)),[Mi.name,"I18nD"].forEach(o=>e.component(o,Mi))),e.directive("t",_s(a))}const Es=Oe("global-vue-i18n");function ys(e={},a){const i=z(e.globalInjection)?e.globalInjection:!0,n=!0,s=new Map,[r,o]=vs(e),l=Oe("");function u(h){return s.get(h)||null}function d(h,g){s.set(h,g)}function m(h){s.delete(h)}{const h={get mode(){return"composition"},get allowComposition(){return n},async install(g,...w){if(g.__VUE_I18N_SYMBOL__=l,g.provide(g.__VUE_I18N_SYMBOL__,h),V(w[0])){const C=w[0];h.__composerExtend=C.__composerExtend,h.__vueI18nExtend=C.__vueI18nExtend}let D=null;i&&(D=ks(g,h.global)),bs(g,h,...w);const L=g.unmount;g.unmount=()=>{D&&D(),h.dispose(),L()}},get global(){return o},dispose(){r.stop()},__instances:s,__getInstance:u,__setInstance:d,__deleteInstance:m};return h}}function $e(e={}){const a=c.getCurrentInstance();if(a==null)throw pe(ue.MUST_BE_CALL_SETUP_TOP);if(!a.isCE&&a.appContext.app!=null&&!a.appContext.app.__VUE_I18N_SYMBOL__)throw pe(ue.NOT_INSTALLED);const i=Ns(a),n=ws(i),s=wi(a),r=Ts(e,s);if(r==="global")return ds(n,e,s),n;if(r==="parent"){let u=Os(i,a,e.__useComponent);return u==null&&(u=n),u}const o=i;let l=o.__getInstance(a);if(l==null){const u=ie({},e);"__i18n"in s&&(u.__i18n=s.__i18n),n&&(u.__root=n),l=Si(u),o.__composerExtend&&(l[ta]=o.__composerExtend(l)),Ds(o,a,l),o.__setInstance(a,l)}return l}function vs(e,a,i){const n=c.effectScope();{const s=n.run(()=>Si(e));if(s==null)throw pe(ue.UNEXPECTED_ERROR);return[n,s]}}function Ns(e){{const a=c.inject(e.isCE?Es:e.appContext.app.__VUE_I18N_SYMBOL__);if(!a)throw pe(e.isCE?ue.NOT_INSTALLED_WITH_PROVIDE:ue.UNEXPECTED_ERROR);return a}}function Ts(e,a){return Nt(e)?"__i18n"in a?"local":"global":e.useScope?e.useScope:"local"}function ws(e){return e.mode==="composition"?e.global:e.global.__composer}function Os(e,a,i=!1){let n=null;const s=a.root;let r=Cs(a,i);for(;r!=null;){const o=e;if(e.mode==="composition"&&(n=o.__getInstance(r)),n!=null||s===r)break;r=r.parent}return n}function Cs(e,a=!1){return e==null?null:a&&e.vnode.ctx||e.parent}function Ds(e,a,i){c.onMounted(()=>{},a),c.onUnmounted(()=>{const n=i;e.__deleteInstance(a);const s=n[ta];s&&(s(),delete n[ta])},a)}const Ls=["locale","fallbackLocale","availableLocales"],$i=["t","rt","d","n","tm","te"];function ks(e,a){const i=Object.create(null);return Ls.forEach(s=>{const r=Object.getOwnPropertyDescriptor(a,s);if(!r)throw pe(ue.UNEXPECTED_ERROR);const o=c.isRef(r.value)?{get(){return r.value.value},set(l){r.value.value=l}}:{get(){return r.get&&r.get()}};Object.defineProperty(i,s,o)}),e.config.globalProperties.$i18n=i,$i.forEach(s=>{const r=Object.getOwnPropertyDescriptor(a,s);if(!r||!r.value)throw pe(ue.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,r)}),()=>{delete e.config.globalProperties.$i18n,$i.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}if(os(),Hr(ts),Yr(Tr),Xr(ei),__INTLIFY_PROD_DEVTOOLS__){const e=Vt();e.__INTLIFY__=!0,Pr(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Ss={uploader:{specific_nb_drag_n_drop_label:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Glissez-déposez ici un fichier"},{t:2,i:[{t:3,v:"Glissez-déposez ici "},{t:4,k:"count"},{t:3,v:" fichiers"}]}]}},min_max_drag_n_drop_label:{t:0,b:{t:2,i:[{t:3,v:"Glissez-déposez ici entre "},{t:4,k:"min"},{t:3,v:" et "},{t:4,k:"max"},{t:3,v:" fichiers"}]}},min_drag_n_drop_label:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Glissez-déposez ici au-moins un fichier"},{t:2,i:[{t:3,v:"Glissez-déposez ici au-moins "},{t:4,k:"count"},{t:3,v:" fichiers"}]}]}},max_drag_n_drop_label:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Glissez-déposez ici votre fichier"},{t:2,i:[{t:3,v:"Glissez-déposez ici vos fichiers (maximum "},{t:4,k:"count"},{t:3,v:")"}]}]}},drag_n_drop_label:{t:0,b:{t:2,i:[{t:3}],s:"Glissez-déposez ici vos fichiers"}},add_file_label:{t:0,b:{t:2,i:[{t:3}],s:"ou cliquez-ici"}},max_size_label:{t:0,b:{t:2,i:[{t:3,v:"(taille maximum "},{t:4,k:"size"},{t:3,v:")"}]}},trigger_upload:{t:0,b:{t:2,i:[{t:3}],s:"Transférer"}}},upload_entry:{completion:{t:0,b:{t:2,i:[{t:4,k:"progress"},{t:3,v:"% transférés"}]}},too_large:{t:0,b:{t:2,i:[{t:3}],s:"Le fichier est trop lourd"}},wrong_type:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:'Le fichier doit être du type "'},{t:4,k:"types"},{t:3,v:'"; tout autre fichier ne sera pas sauvegardé.'}]},{t:2,i:[{t:3,v:`Le fichier doit être d'un des types suivants : "`},{t:4,k:"types"},{t:3,v:'"; tout autre fichier ne sera pas sauvegardé.'}]}]}},crop_header:{t:0,b:{t:2,i:[{t:3}],s:"Veuillez choisir la partie à garder."}},crop:{t:0,b:{t:2,i:[{t:3}],s:"Recadrer"}},cancel:{t:0,b:{t:2,i:[{t:3}],s:"Annuler"}}},view_entry:{rotate_left:{t:0,b:{t:2,i:[{t:3}],s:"Faire pivoter l'image à gauche"}},rotate_right:{t:0,b:{t:2,i:[{t:3}],s:"Faire pivoter l'image à droite"}},loading:{t:0,b:{t:2,i:[{t:3}],s:"Chargement..."}},close:{t:0,b:{t:2,i:[{t:3}],s:"Fermer"}},save:{t:0,b:{t:2,i:[{t:3}],s:"Enregistrer"}},file_infected:{t:0,b:{t:2,i:[{t:3}],s:"Le fichier référencé semble infecté par un virus"}}},editor:{pagination:{t:0,b:{t:2,i:[{t:4,k:"currentPage"},{t:3,v:" de "},{t:4,k:"pages"}]}},zoom:{auto:{t:0,b:{t:2,i:[{t:3}],s:"Zoom automatique"}},"page-width":{t:0,b:{t:2,i:[{t:3}],s:"Pleine largeur"}},"page-fit":{t:0,b:{t:2,i:[{t:3}],s:"Page entière"}},"page-actual":{t:0,b:{t:2,i:[{t:3}],s:"Taille réelle"}}},colors:{warning:{t:0,b:{t:2,i:[{t:3}],s:"Jaune"}},danger:{t:0,b:{t:2,i:[{t:3}],s:"Rouge"}},info:{t:0,b:{t:2,i:[{t:3}],s:"Bleu"}},success:{t:0,b:{t:2,i:[{t:3}],s:"Vert"}},muted:{t:0,b:{t:2,i:[{t:3}],s:"Blanc"}}}},error:{t:0,b:{t:2,i:[{t:3,v:"Erreur : "},{t:4,k:"error"}]}},request_error:{t:0,b:{t:2,i:[{t:3,v:"Erreur lors de la requête : "},{t:4,k:"error"}]}},units:[{t:0,b:{t:2,i:[{t:3}],s:"o"}},{t:0,b:{t:2,i:[{t:3}],s:"Ko"}},{t:0,b:{t:2,i:[{t:3}],s:"Mo"}},{t:0,b:{t:2,i:[{t:3}],s:"Go"}},{t:0,b:{t:2,i:[{t:3}],s:"To"}}]},Is={uploader:{specific_nb_drag_n_drop_label:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Drag and drop one file here"},{t:2,i:[{t:3,v:"Drag and drop "},{t:4,k:"count"},{t:3,v:" files here"}]}]}},min_max_drag_n_drop_label:{t:0,b:{t:2,i:[{t:3,v:"Drag and drop between "},{t:4,k:"min"},{t:3,v:" and "},{t:4,k:"max"},{t:3,v:" files here"}]}},min_drag_n_drop_label:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Drag and drop at least one file here"},{t:2,i:[{t:3,v:"Drag and drop at least "},{t:4,k:"count"},{t:3,v:" files here"}]}]}},max_drag_n_drop_label:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Drag and drop your file here"},{t:2,i:[{t:3,v:"Drag and drop your files here (maximum "},{t:4,k:"count"},{t:3,v:")"}]}]}},drag_n_drop_label:{t:0,b:{t:2,i:[{t:3}],s:"Drag and drop your files here"}},add_file_label:{t:0,b:{t:2,i:[{t:3}],s:"or click here"}},max_size_label:{t:0,b:{t:2,i:[{t:3,v:"(max size "},{t:4,k:"size"},{t:3,v:")"}]}},trigger_upload:{t:0,b:{t:2,i:[{t:3}],s:"Upload"}}},upload_entry:{completion:{t:0,b:{t:2,i:[{t:4,k:"progress"},{t:3,v:"% uploaded"}]}},too_large:{t:0,b:{t:2,i:[{t:3}],s:"File is too large"}},wrong_type:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:'The file must have the following type: "'},{t:4,k:"types"},{t:3,v:'"; any other files will not be saved.'}]},{t:2,i:[{t:3,v:'The file must have one of the following types: "'},{t:4,k:"types"},{t:3,v:'"; any other files will not be saved.'}]}]}},crop_header:{t:0,b:{t:2,i:[{t:3}],s:"Please choose the part you want to keep."}},crop:{t:0,b:{t:2,i:[{t:3}],s:"Crop"}},cancel:{t:0,b:{t:2,i:[{t:3}],s:"Cancel"}}},view_entry:{rotate_left:{t:0,b:{t:2,i:[{t:3}],s:"Rotate image left"}},rotate_right:{t:0,b:{t:2,i:[{t:3}],s:"Rotate image right"}},loading:{t:0,b:{t:2,i:[{t:3}],s:"Loading..."}},close:{t:0,b:{t:2,i:[{t:3}],s:"Close"}},save:{t:0,b:{t:2,i:[{t:3}],s:"Save"}},file_infected:{t:0,b:{t:2,i:[{t:3}],s:"The referenced file appears to be infected with a virus"}}},editor:{pagination:{t:0,b:{t:2,i:[{t:4,k:"currentPage"},{t:3,v:" of "},{t:4,k:"pages"}]}},zoom:{auto:{t:0,b:{t:2,i:[{t:3}],s:"Automatic Zoom"}},"page-width":{t:0,b:{t:2,i:[{t:3}],s:"Page Width"}},"page-fit":{t:0,b:{t:2,i:[{t:3}],s:"Page Fit"}},"page-actual":{t:0,b:{t:2,i:[{t:3}],s:"Actual Size"}}},colors:{warning:{t:0,b:{t:2,i:[{t:3}],s:"Yellow"}},danger:{t:0,b:{t:2,i:[{t:3}],s:"Red"}},info:{t:0,b:{t:2,i:[{t:3}],s:"Blue"}},success:{t:0,b:{t:2,i:[{t:3}],s:"Green"}},muted:{t:0,b:{t:2,i:[{t:3}],s:"White"}}}},error:{t:0,b:{t:2,i:[{t:3,v:"Error: "},{t:4,k:"error"}]}},request_error:{t:0,b:{t:2,i:[{t:3,v:"Request error: "},{t:4,k:"error"}]}},units:[{t:0,b:{t:2,i:[{t:3}],s:"B"}},{t:0,b:{t:2,i:[{t:3}],s:"KB"}},{t:0,b:{t:2,i:[{t:3}],s:"MB"}},{t:0,b:{t:2,i:[{t:3}],s:"GB"}},{t:0,b:{t:2,i:[{t:3}],s:"TB"}}]},It=ys({locale:document.documentElement.lang||"en",messages:{en:Is,fr:Ss}});function ia(e){let a=0;for(;e>=1024;)e/=1024,++a;const i=It.global.t(`units[${a}]`);return`${e.toFixed(2)} ${i}`}async function lt(e,a){const i=await fetch(e,{headers:{"Content-Type":"application/json"},...a});if(i.status>=200&&i.status<300)return i.json();throw new Error(i.statusText)}var Pt={exports:{}},Vi;function Ps(){if(Vi)return Pt.exports;Vi=1;function e(){}return e.prototype={on:function(a,i,n){var s=this.e||(this.e={});return(s[a]||(s[a]=[])).push({fn:i,ctx:n}),this},once:function(a,i,n){var s=this;function r(){s.off(a,r),i.apply(n,arguments)}return r._=i,this.on(a,r,n)},emit:function(a){var i=[].slice.call(arguments,1),n=((this.e||(this.e={}))[a]||[]).slice(),s=0,r=n.length;for(s;s<r;s++)n[s].fn.apply(n[s].ctx,i);return this},off:function(a,i){var n=this.e||(this.e={}),s=n[a],r=[];if(s&&i)for(var o=0,l=s.length;o<l;o++)s[o].fn!==i&&s[o].fn._!==i&&r.push(s[o]);return r.length?n[a]=r:delete n[a],this}},Pt.exports=e,Pt.exports.TinyEmitter=e,Pt.exports}var As=Ps();const xi=new As.TinyEmitter;function Bi(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,n)}return i}function Wi(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Bi(Object(i),!0).forEach(function(n){Fs(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Bi(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Rs(e,a){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hi(e){var a=Rs(e,"string");return typeof a=="symbol"?a:a+""}function na(e){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},na(e)}function Ms(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Yi(e,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hi(n.key),n)}}function Us(e,a,i){return a&&Yi(e.prototype,a),i&&Yi(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fs(e,a,i){return a=Hi(a),a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function Xi(e){return $s(e)||Vs(e)||xs(e)||Bs()}function $s(e){if(Array.isArray(e))return ra(e)}function Vs(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xs(e,a){if(e){if(typeof e=="string")return ra(e,a);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ra(e,a)}}function ra(e,a){(a==null||a>e.length)&&(a=e.length);for(var i=0,n=new Array(a);i<a;i++)n[i]=e[i];return n}function Bs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var At=typeof window<"u"&&typeof window.document<"u",ye=At?window:{},sa=At&&ye.document.documentElement?"ontouchstart"in ye.document.documentElement:!1,oa=At?"PointerEvent"in ye:!1,Y="cropper",la="all",ji="crop",zi="move",Gi="zoom",Ve="e",xe="w",ze="s",ke="n",ct="ne",ut="nw",dt="se",ft="sw",ca="".concat(Y,"-crop"),Ki="".concat(Y,"-disabled"),se="".concat(Y,"-hidden"),qi="".concat(Y,"-hide"),Ws="".concat(Y,"-invisible"),Rt="".concat(Y,"-modal"),ua="".concat(Y,"-move"),ht="".concat(Y,"Action"),Mt="".concat(Y,"Preview"),da="crop",Qi="move",Ji="none",fa="crop",ha="cropend",ma="cropmove",pa="cropstart",Zi="dblclick",Hs=sa?"touchstart":"mousedown",Ys=sa?"touchmove":"mousemove",Xs=sa?"touchend touchcancel":"mouseup",en=oa?"pointerdown":Hs,tn=oa?"pointermove":Ys,an=oa?"pointerup pointercancel":Xs,nn="ready",rn="resize",sn="wheel",ga="zoom",on="image/jpeg",js=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,zs=/^data:/,Gs=/^data:image\/jpeg;base64,/,Ks=/^img|canvas$/i,ln=200,cn=100,un={viewMode:0,dragMode:da,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ln,minContainerHeight:cn,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},qs='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Qs=Number.isNaN||ye.isNaN;function $(e){return typeof e=="number"&&!Qs(e)}var dn=function(a){return a>0&&a<1/0};function _a(e){return typeof e>"u"}function Be(e){return na(e)==="object"&&e!==null}var Js=Object.prototype.hasOwnProperty;function Ge(e){if(!Be(e))return!1;try{var a=e.constructor,i=a.prototype;return a&&i&&Js.call(i,"isPrototypeOf")}catch{return!1}}function oe(e){return typeof e=="function"}var Zs=Array.prototype.slice;function fn(e){return Array.from?Array.from(e):Zs.call(e)}function J(e,a){return e&&oe(a)&&(Array.isArray(e)||$(e.length)?fn(e).forEach(function(i,n){a.call(e,i,n,e)}):Be(e)&&Object.keys(e).forEach(function(i){a.call(e,e[i],i,e)})),e}var X=Object.assign||function(a){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return Be(a)&&n.length>0&&n.forEach(function(r){Be(r)&&Object.keys(r).forEach(function(o){a[o]=r[o]})}),a},eo=/\.\d*(?:0|9){12}\d*$/;function Ke(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return eo.test(e)?Math.round(e*a)/a:e}var to=/^width|height|left|top|marginLeft|marginTop$/;function Se(e,a){var i=e.style;J(a,function(n,s){to.test(s)&&$(n)&&(n="".concat(n,"px")),i[s]=n})}function ao(e,a){return e.classList?e.classList.contains(a):e.className.indexOf(a)>-1}function te(e,a){if(a){if($(e.length)){J(e,function(n){te(n,a)});return}if(e.classList){e.classList.add(a);return}var i=e.className.trim();i?i.indexOf(a)<0&&(e.className="".concat(i," ").concat(a)):e.className=a}}function ve(e,a){if(a){if($(e.length)){J(e,function(i){ve(i,a)});return}if(e.classList){e.classList.remove(a);return}e.className.indexOf(a)>=0&&(e.className=e.className.replace(a,""))}}function qe(e,a,i){if(a){if($(e.length)){J(e,function(n){qe(n,a,i)});return}i?te(e,a):ve(e,a)}}var io=/([a-z\d])([A-Z])/g;function ba(e){return e.replace(io,"$1-$2").toLowerCase()}function Ea(e,a){return Be(e[a])?e[a]:e.dataset?e.dataset[a]:e.getAttribute("data-".concat(ba(a)))}function mt(e,a,i){Be(i)?e[a]=i:e.dataset?e.dataset[a]=i:e.setAttribute("data-".concat(ba(a)),i)}function no(e,a){if(Be(e[a]))try{delete e[a]}catch{e[a]=void 0}else if(e.dataset)try{delete e.dataset[a]}catch{e.dataset[a]=void 0}else e.removeAttribute("data-".concat(ba(a)))}var hn=/\s\s*/,mn=(function(){var e=!1;if(At){var a=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,a},set:function(r){a=r}});ye.addEventListener("test",i,n),ye.removeEventListener("test",i,n)}return e})();function ge(e,a,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i;a.trim().split(hn).forEach(function(r){if(!mn){var o=e.listeners;o&&o[r]&&o[r][i]&&(s=o[r][i],delete o[r][i],Object.keys(o[r]).length===0&&delete o[r],Object.keys(o).length===0&&delete e.listeners)}e.removeEventListener(r,s,n)})}function de(e,a,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i;a.trim().split(hn).forEach(function(r){if(n.once&&!mn){var o=e.listeners,l=o===void 0?{}:o;s=function(){delete l[r][i],e.removeEventListener(r,s,n);for(var d=arguments.length,m=new Array(d),h=0;h<d;h++)m[h]=arguments[h];i.apply(e,m)},l[r]||(l[r]={}),l[r][i]&&e.removeEventListener(r,l[r][i],n),l[r][i]=s,e.listeners=l}e.addEventListener(r,s,n)})}function Qe(e,a,i){var n;return oe(Event)&&oe(CustomEvent)?n=new CustomEvent(a,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(a,!0,!0,i)),e.dispatchEvent(n)}function pn(e){var a=e.getBoundingClientRect();return{left:a.left+(window.pageXOffset-document.documentElement.clientLeft),top:a.top+(window.pageYOffset-document.documentElement.clientTop)}}var ya=ye.location,ro=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function gn(e){var a=e.match(ro);return a!==null&&(a[1]!==ya.protocol||a[2]!==ya.hostname||a[3]!==ya.port)}function _n(e){var a="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+a}function pt(e){var a=e.rotate,i=e.scaleX,n=e.scaleY,s=e.translateX,r=e.translateY,o=[];$(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),$(r)&&r!==0&&o.push("translateY(".concat(r,"px)")),$(a)&&a!==0&&o.push("rotate(".concat(a,"deg)")),$(i)&&i!==1&&o.push("scaleX(".concat(i,")")),$(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function so(e){var a=Wi({},e),i=0;return J(e,function(n,s){delete a[s],J(a,function(r){var o=Math.abs(n.startX-r.startX),l=Math.abs(n.startY-r.startY),u=Math.abs(n.endX-r.endX),d=Math.abs(n.endY-r.endY),m=Math.sqrt(o*o+l*l),h=Math.sqrt(u*u+d*d),g=(h-m)/m;Math.abs(g)>Math.abs(i)&&(i=g)})}),i}function Ut(e,a){var i=e.pageX,n=e.pageY,s={endX:i,endY:n};return a?s:Wi({startX:i,startY:n},s)}function oo(e){var a=0,i=0,n=0;return J(e,function(s){var r=s.startX,o=s.startY;a+=r,i+=o,n+=1}),a/=n,i/=n,{pageX:a,pageY:i}}function Ie(e){var a=e.aspectRatio,i=e.height,n=e.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",r=dn(n),o=dn(i);if(r&&o){var l=i*a;s==="contain"&&l>n||s==="cover"&&l<n?i=n/a:n=i*a}else r?i=n/a:o&&(n=i*a);return{width:n,height:i}}function lo(e){var a=e.width,i=e.height,n=e.degree;if(n=Math.abs(n)%180,n===90)return{width:i,height:a};var s=n%90*Math.PI/180,r=Math.sin(s),o=Math.cos(s),l=a*o+i*r,u=a*r+i*o;return n>90?{width:u,height:l}:{width:l,height:u}}function co(e,a,i,n){var s=a.aspectRatio,r=a.naturalWidth,o=a.naturalHeight,l=a.rotate,u=l===void 0?0:l,d=a.scaleX,m=d===void 0?1:d,h=a.scaleY,g=h===void 0?1:h,w=i.aspectRatio,D=i.naturalWidth,L=i.naturalHeight,C=n.fillColor,I=C===void 0?"transparent":C,R=n.imageSmoothingEnabled,b=R===void 0?!0:R,y=n.imageSmoothingQuality,O=y===void 0?"low":y,_=n.maxWidth,v=_===void 0?1/0:_,S=n.maxHeight,k=S===void 0?1/0:S,H=n.minWidth,ee=H===void 0?0:H,F=n.minHeight,G=F===void 0?0:F,le=document.createElement("canvas"),ae=le.getContext("2d"),_e=Ie({aspectRatio:w,width:v,height:k}),Pe=Ie({aspectRatio:w,width:ee,height:G},"cover"),We=Math.min(_e.width,Math.max(Pe.width,D)),He=Math.min(_e.height,Math.max(Pe.height,L)),Je=Ie({aspectRatio:s,width:v,height:k}),fe=Ie({aspectRatio:s,width:ee,height:G},"cover"),Ae=Math.min(Je.width,Math.max(fe.width,r)),Ze=Math.min(Je.height,Math.max(fe.height,o)),et=[-Ae/2,-Ze/2,Ae,Ze];return le.width=Ke(We),le.height=Ke(He),ae.fillStyle=I,ae.fillRect(0,0,We,He),ae.save(),ae.translate(We/2,He/2),ae.rotate(u*Math.PI/180),ae.scale(m,g),ae.imageSmoothingEnabled=b,ae.imageSmoothingQuality=O,ae.drawImage.apply(ae,[e].concat(Xi(et.map(function(_t){return Math.floor(Ke(_t))})))),ae.restore(),le}var bn=String.fromCharCode;function uo(e,a,i){var n="";i+=a;for(var s=a;s<i;s+=1)n+=bn(e.getUint8(s));return n}var fo=/^data:.*,/;function ho(e){var a=e.replace(fo,""),i=atob(a),n=new ArrayBuffer(i.length),s=new Uint8Array(n);return J(s,function(r,o){s[o]=i.charCodeAt(o)}),n}function mo(e,a){for(var i=[],n=8192,s=new Uint8Array(e);s.length>0;)i.push(bn.apply(null,fn(s.subarray(0,n)))),s=s.subarray(n);return"data:".concat(a,";base64,").concat(btoa(i.join("")))}function po(e){var a=new DataView(e),i;try{var n,s,r;if(a.getUint8(0)===255&&a.getUint8(1)===216)for(var o=a.byteLength,l=2;l+1<o;){if(a.getUint8(l)===255&&a.getUint8(l+1)===225){s=l;break}l+=1}if(s){var u=s+4,d=s+10;if(uo(a,u,4)==="Exif"){var m=a.getUint16(d);if(n=m===18761,(n||m===19789)&&a.getUint16(d+2,n)===42){var h=a.getUint32(d+4,n);h>=8&&(r=d+h)}}}if(r){var g=a.getUint16(r,n),w,D;for(D=0;D<g;D+=1)if(w=r+D*12+2,a.getUint16(w,n)===274){w+=8,i=a.getUint16(w,n),a.setUint16(w,1,n);break}}}catch{i=1}return i}function go(e){var a=0,i=1,n=1;switch(e){case 2:i=-1;break;case 3:a=-180;break;case 4:n=-1;break;case 5:a=90,n=-1;break;case 6:a=90;break;case 7:a=90,i=-1;break;case 8:a=-90;break}return{rotate:a,scaleX:i,scaleY:n}}var _o={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var a=this.element,i=this.options,n=this.container,s=this.cropper,r=Number(i.minContainerWidth),o=Number(i.minContainerHeight);te(s,se),ve(a,se);var l={width:Math.max(n.offsetWidth,r>=0?r:ln),height:Math.max(n.offsetHeight,o>=0?o:cn)};this.containerData=l,Se(s,{width:l.width,height:l.height}),te(a,se),ve(s,se)},initCanvas:function(){var a=this.containerData,i=this.imageData,n=this.options.viewMode,s=Math.abs(i.rotate)%180===90,r=s?i.naturalHeight:i.naturalWidth,o=s?i.naturalWidth:i.naturalHeight,l=r/o,u=a.width,d=a.height;a.height*l>a.width?n===3?u=a.height*l:d=a.width/l:n===3?d=a.width/l:u=a.height*l;var m={aspectRatio:l,naturalWidth:r,naturalHeight:o,width:u,height:d};this.canvasData=m,this.limited=n===1||n===2,this.limitCanvas(!0,!0),m.width=Math.min(Math.max(m.width,m.minWidth),m.maxWidth),m.height=Math.min(Math.max(m.height,m.minHeight),m.maxHeight),m.left=(a.width-m.width)/2,m.top=(a.height-m.height)/2,m.oldLeft=m.left,m.oldTop=m.top,this.initialCanvasData=X({},m)},limitCanvas:function(a,i){var n=this.options,s=this.containerData,r=this.canvasData,o=this.cropBoxData,l=n.viewMode,u=r.aspectRatio,d=this.cropped&&o;if(a){var m=Number(n.minCanvasWidth)||0,h=Number(n.minCanvasHeight)||0;l>1?(m=Math.max(m,s.width),h=Math.max(h,s.height),l===3&&(h*u>m?m=h*u:h=m/u)):l>0&&(m?m=Math.max(m,d?o.width:0):h?h=Math.max(h,d?o.height:0):d&&(m=o.width,h=o.height,h*u>m?m=h*u:h=m/u));var g=Ie({aspectRatio:u,width:m,height:h});m=g.width,h=g.height,r.minWidth=m,r.minHeight=h,r.maxWidth=1/0,r.maxHeight=1/0}if(i)if(l>(d?0:1)){var w=s.width-r.width,D=s.height-r.height;r.minLeft=Math.min(0,w),r.minTop=Math.min(0,D),r.maxLeft=Math.max(0,w),r.maxTop=Math.max(0,D),d&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,l===2&&(r.width>=s.width&&(r.minLeft=Math.min(0,w),r.maxLeft=Math.max(0,w)),r.height>=s.height&&(r.minTop=Math.min(0,D),r.maxTop=Math.max(0,D))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=s.width,r.maxTop=s.height},renderCanvas:function(a,i){var n=this.canvasData,s=this.imageData;if(i){var r=lo({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=r.width,l=r.height,u=n.width*(o/n.naturalWidth),d=n.height*(l/n.naturalHeight);n.left-=(u-n.width)/2,n.top-=(d-n.height)/2,n.width=u,n.height=d,n.aspectRatio=o/l,n.naturalWidth=o,n.naturalHeight=l,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Se(this.canvas,X({width:n.width,height:n.height},pt({translateX:n.left,translateY:n.top}))),this.renderImage(a),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(a){var i=this.canvasData,n=this.imageData,s=n.naturalWidth*(i.width/i.naturalWidth),r=n.naturalHeight*(i.height/i.naturalHeight);X(n,{width:s,height:r,left:(i.width-s)/2,top:(i.height-r)/2}),Se(this.image,X({width:n.width,height:n.height},pt(X({translateX:n.left,translateY:n.top},n)))),a&&this.output()},initCropBox:function(){var a=this.options,i=this.canvasData,n=a.aspectRatio||a.initialAspectRatio,s=Number(a.autoCropArea)||.8,r={width:i.width,height:i.height};n&&(i.height*n>i.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*s),r.height=Math.max(r.minHeight,r.height*s),r.left=i.left+(i.width-r.width)/2,r.top=i.top+(i.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=X({},r)},limitCropBox:function(a,i){var n=this.options,s=this.containerData,r=this.canvasData,o=this.cropBoxData,l=this.limited,u=n.aspectRatio;if(a){var d=Number(n.minCropBoxWidth)||0,m=Number(n.minCropBoxHeight)||0,h=l?Math.min(s.width,r.width,r.width+r.left,s.width-r.left):s.width,g=l?Math.min(s.height,r.height,r.height+r.top,s.height-r.top):s.height;d=Math.min(d,s.width),m=Math.min(m,s.height),u&&(d&&m?m*u>d?m=d/u:d=m*u:d?m=d/u:m&&(d=m*u),g*u>h?g=h/u:h=g*u),o.minWidth=Math.min(d,h),o.minHeight=Math.min(m,g),o.maxWidth=h,o.maxHeight=g}i&&(l?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(s.width,r.left+r.width)-o.width,o.maxTop=Math.min(s.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var a=this.options,i=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,a.movable&&a.cropBoxMovable&&mt(this.face,ht,n.width>=i.width&&n.height>=i.height?zi:la),Se(this.cropBox,X({width:n.width,height:n.height},pt({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Qe(this.element,fa,this.getData())}},bo={initPreview:function(){var a=this.element,i=this.crossOrigin,n=this.options.preview,s=i?this.crossOriginUrl:this.url,r=a.alt||"The image to preview",o=document.createElement("img");if(i&&(o.crossOrigin=i),o.src=s,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,!!n){var l=n;typeof n=="string"?l=a.ownerDocument.querySelectorAll(n):n.querySelector&&(l=[n]),this.previews=l,J(l,function(u){var d=document.createElement("img");mt(u,Mt,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),i&&(d.crossOrigin=i),d.src=s,d.alt=r,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(d)})}},resetPreview:function(){J(this.previews,function(a){var i=Ea(a,Mt);Se(a,{width:i.width,height:i.height}),a.innerHTML=i.html,no(a,Mt)})},preview:function(){var a=this.imageData,i=this.canvasData,n=this.cropBoxData,s=n.width,r=n.height,o=a.width,l=a.height,u=n.left-i.left-a.left,d=n.top-i.top-a.top;!this.cropped||this.disabled||(Se(this.viewBoxImage,X({width:o,height:l},pt(X({translateX:-u,translateY:-d},a)))),J(this.previews,function(m){var h=Ea(m,Mt),g=h.width,w=h.height,D=g,L=w,C=1;s&&(C=g/s,L=r*C),r&&L>w&&(C=w/r,D=s*C,L=w),Se(m,{width:D,height:L}),Se(m.getElementsByTagName("img")[0],X({width:o*C,height:l*C},pt(X({translateX:-u*C,translateY:-d*C},a))))}))}},Eo={bind:function(){var a=this.element,i=this.options,n=this.cropper;oe(i.cropstart)&&de(a,pa,i.cropstart),oe(i.cropmove)&&de(a,ma,i.cropmove),oe(i.cropend)&&de(a,ha,i.cropend),oe(i.crop)&&de(a,fa,i.crop),oe(i.zoom)&&de(a,ga,i.zoom),de(n,en,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&de(n,sn,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&de(n,Zi,this.onDblclick=this.dblclick.bind(this)),de(a.ownerDocument,tn,this.onCropMove=this.cropMove.bind(this)),de(a.ownerDocument,an,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&de(window,rn,this.onResize=this.resize.bind(this))},unbind:function(){var a=this.element,i=this.options,n=this.cropper;oe(i.cropstart)&&ge(a,pa,i.cropstart),oe(i.cropmove)&&ge(a,ma,i.cropmove),oe(i.cropend)&&ge(a,ha,i.cropend),oe(i.crop)&&ge(a,fa,i.crop),oe(i.zoom)&&ge(a,ga,i.zoom),ge(n,en,this.onCropStart),i.zoomable&&i.zoomOnWheel&&ge(n,sn,this.onWheel,{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&ge(n,Zi,this.onDblclick),ge(a.ownerDocument,tn,this.onCropMove),ge(a.ownerDocument,an,this.onCropEnd),i.responsive&&ge(window,rn,this.onResize)}},yo={resize:function(){if(!this.disabled){var a=this.options,i=this.container,n=this.containerData,s=i.offsetWidth/n.width,r=i.offsetHeight/n.height,o=Math.abs(s-1)>Math.abs(r-1)?s:r;if(o!==1){var l,u;a.restore&&(l=this.getCanvasData(),u=this.getCropBoxData()),this.render(),a.restore&&(this.setCanvasData(J(l,function(d,m){l[m]=d*o})),this.setCropBoxData(J(u,function(d,m){u[m]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ji||this.setDragMode(ao(this.dragBox,ca)?Qi:da)},wheel:function(a){var i=this,n=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(a.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),a.deltaY?s=a.deltaY>0?1:-1:a.wheelDelta?s=-a.wheelDelta/120:a.detail&&(s=a.detail>0?1:-1),this.zoom(-s*n,a)))},cropStart:function(a){var i=a.buttons,n=a.button;if(!(this.disabled||(a.type==="mousedown"||a.type==="pointerdown"&&a.pointerType==="mouse")&&($(i)&&i!==1||$(n)&&n!==0||a.ctrlKey))){var s=this.options,r=this.pointers,o;a.changedTouches?J(a.changedTouches,function(l){r[l.identifier]=Ut(l)}):r[a.pointerId||0]=Ut(a),Object.keys(r).length>1&&s.zoomable&&s.zoomOnTouch?o=Gi:o=Ea(a.target,ht),js.test(o)&&Qe(this.element,pa,{originalEvent:a,action:o})!==!1&&(a.preventDefault(),this.action=o,this.cropping=!1,o===ji&&(this.cropping=!0,te(this.dragBox,Rt)))}},cropMove:function(a){var i=this.action;if(!(this.disabled||!i)){var n=this.pointers;a.preventDefault(),Qe(this.element,ma,{originalEvent:a,action:i})!==!1&&(a.changedTouches?J(a.changedTouches,function(s){X(n[s.identifier]||{},Ut(s,!0))}):X(n[a.pointerId||0]||{},Ut(a,!0)),this.change(a))}},cropEnd:function(a){if(!this.disabled){var i=this.action,n=this.pointers;a.changedTouches?J(a.changedTouches,function(s){delete n[s.identifier]}):delete n[a.pointerId||0],i&&(a.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,qe(this.dragBox,Rt,this.cropped&&this.options.modal)),Qe(this.element,ha,{originalEvent:a,action:i}))}}},vo={change:function(a){var i=this.options,n=this.canvasData,s=this.containerData,r=this.cropBoxData,o=this.pointers,l=this.action,u=i.aspectRatio,d=r.left,m=r.top,h=r.width,g=r.height,w=d+h,D=m+g,L=0,C=0,I=s.width,R=s.height,b=!0,y;!u&&a.shiftKey&&(u=h&&g?h/g:1),this.limited&&(L=r.minLeft,C=r.minTop,I=L+Math.min(s.width,n.width,n.left+n.width),R=C+Math.min(s.height,n.height,n.top+n.height));var O=o[Object.keys(o)[0]],_={x:O.endX-O.startX,y:O.endY-O.startY},v=function(k){switch(k){case Ve:w+_.x>I&&(_.x=I-w);break;case xe:d+_.x<L&&(_.x=L-d);break;case ke:m+_.y<C&&(_.y=C-m);break;case ze:D+_.y>R&&(_.y=R-D);break}};switch(l){case la:d+=_.x,m+=_.y;break;case Ve:if(_.x>=0&&(w>=I||u&&(m<=C||D>=R))){b=!1;break}v(Ve),h+=_.x,h<0&&(l=xe,h=-h,d-=h),u&&(g=h/u,m+=(r.height-g)/2);break;case ke:if(_.y<=0&&(m<=C||u&&(d<=L||w>=I))){b=!1;break}v(ke),g-=_.y,m+=_.y,g<0&&(l=ze,g=-g,m-=g),u&&(h=g*u,d+=(r.width-h)/2);break;case xe:if(_.x<=0&&(d<=L||u&&(m<=C||D>=R))){b=!1;break}v(xe),h-=_.x,d+=_.x,h<0&&(l=Ve,h=-h,d-=h),u&&(g=h/u,m+=(r.height-g)/2);break;case ze:if(_.y>=0&&(D>=R||u&&(d<=L||w>=I))){b=!1;break}v(ze),g+=_.y,g<0&&(l=ke,g=-g,m-=g),u&&(h=g*u,d+=(r.width-h)/2);break;case ct:if(u){if(_.y<=0&&(m<=C||w>=I)){b=!1;break}v(ke),g-=_.y,m+=_.y,h=g*u}else v(ke),v(Ve),_.x>=0?w<I?h+=_.x:_.y<=0&&m<=C&&(b=!1):h+=_.x,_.y<=0?m>C&&(g-=_.y,m+=_.y):(g-=_.y,m+=_.y);h<0&&g<0?(l=ft,g=-g,h=-h,m-=g,d-=h):h<0?(l=ut,h=-h,d-=h):g<0&&(l=dt,g=-g,m-=g);break;case ut:if(u){if(_.y<=0&&(m<=C||d<=L)){b=!1;break}v(ke),g-=_.y,m+=_.y,h=g*u,d+=r.width-h}else v(ke),v(xe),_.x<=0?d>L?(h-=_.x,d+=_.x):_.y<=0&&m<=C&&(b=!1):(h-=_.x,d+=_.x),_.y<=0?m>C&&(g-=_.y,m+=_.y):(g-=_.y,m+=_.y);h<0&&g<0?(l=dt,g=-g,h=-h,m-=g,d-=h):h<0?(l=ct,h=-h,d-=h):g<0&&(l=ft,g=-g,m-=g);break;case ft:if(u){if(_.x<=0&&(d<=L||D>=R)){b=!1;break}v(xe),h-=_.x,d+=_.x,g=h/u}else v(ze),v(xe),_.x<=0?d>L?(h-=_.x,d+=_.x):_.y>=0&&D>=R&&(b=!1):(h-=_.x,d+=_.x),_.y>=0?D<R&&(g+=_.y):g+=_.y;h<0&&g<0?(l=ct,g=-g,h=-h,m-=g,d-=h):h<0?(l=dt,h=-h,d-=h):g<0&&(l=ut,g=-g,m-=g);break;case dt:if(u){if(_.x>=0&&(w>=I||D>=R)){b=!1;break}v(Ve),h+=_.x,g=h/u}else v(ze),v(Ve),_.x>=0?w<I?h+=_.x:_.y>=0&&D>=R&&(b=!1):h+=_.x,_.y>=0?D<R&&(g+=_.y):g+=_.y;h<0&&g<0?(l=ut,g=-g,h=-h,m-=g,d-=h):h<0?(l=ft,h=-h,d-=h):g<0&&(l=ct,g=-g,m-=g);break;case zi:this.move(_.x,_.y),b=!1;break;case Gi:this.zoom(so(o),a),b=!1;break;case ji:if(!_.x||!_.y){b=!1;break}y=pn(this.cropper),d=O.startX-y.left,m=O.startY-y.top,h=r.minWidth,g=r.minHeight,_.x>0?l=_.y>0?dt:ct:_.x<0&&(d-=h,l=_.y>0?ft:ut),_.y<0&&(m-=g),this.cropped||(ve(this.cropBox,se),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}b&&(r.width=h,r.height=g,r.left=d,r.top=m,this.action=l,this.renderCropBox()),J(o,function(S){S.startX=S.endX,S.startY=S.endY})}},No={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&te(this.dragBox,Rt),ve(this.cropBox,se),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=X({},this.initialImageData),this.canvasData=X({},this.initialCanvasData),this.cropBoxData=X({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(X(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ve(this.dragBox,Rt),te(this.cropBox,se)),this},replace:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&a&&(this.isImg&&(this.element.src=a),i?(this.url=a,this.image.src=a,this.ready&&(this.viewBoxImage.src=a,J(this.previews,function(n){n.getElementsByTagName("img")[0].src=a}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(a))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ve(this.cropper,Ki)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,te(this.cropper,Ki)),this},destroy:function(){var a=this.element;return a[Y]?(a[Y]=void 0,this.isImg&&this.replaced&&(a.src=this.originalUrl),this.uncreate(),this):this},move:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,n=this.canvasData,s=n.left,r=n.top;return this.moveTo(_a(a)?a:s+Number(a),_a(i)?i:r+Number(i))},moveTo:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,n=this.canvasData,s=!1;return a=Number(a),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&($(a)&&(n.left=a,s=!0),$(i)&&(n.top=i,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(a,i){var n=this.canvasData;return a=Number(a),a<0?a=1/(1-a):a=1+a,this.zoomTo(n.width*a/n.naturalWidth,null,i)},zoomTo:function(a,i,n){var s=this.options,r=this.canvasData,o=r.width,l=r.height,u=r.naturalWidth,d=r.naturalHeight;if(a=Number(a),a>=0&&this.ready&&!this.disabled&&s.zoomable){var m=u*a,h=d*a;if(Qe(this.element,ga,{ratio:a,oldRatio:o/u,originalEvent:n})===!1)return this;if(n){var g=this.pointers,w=pn(this.cropper),D=g&&Object.keys(g).length?oo(g):{pageX:n.pageX,pageY:n.pageY};r.left-=(m-o)*((D.pageX-w.left-r.left)/o),r.top-=(h-l)*((D.pageY-w.top-r.top)/l)}else Ge(i)&&$(i.x)&&$(i.y)?(r.left-=(m-o)*((i.x-r.left)/o),r.top-=(h-l)*((i.y-r.top)/l)):(r.left-=(m-o)/2,r.top-=(h-l)/2);r.width=m,r.height=h,this.renderCanvas(!0)}return this},rotate:function(a){return this.rotateTo((this.imageData.rotate||0)+Number(a))},rotateTo:function(a){return a=Number(a),$(a)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=a%360,this.renderCanvas(!0,!0)),this},scaleX:function(a){var i=this.imageData.scaleY;return this.scale(a,$(i)?i:1)},scaleY:function(a){var i=this.imageData.scaleX;return this.scale($(i)?i:1,a)},scale:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,n=this.imageData,s=!1;return a=Number(a),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&($(a)&&(n.scaleX=a,s=!0),$(i)&&(n.scaleY=i,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.options,n=this.imageData,s=this.canvasData,r=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:r.left-s.left,y:r.top-s.top,width:r.width,height:r.height};var l=n.width/n.naturalWidth;if(J(o,function(m,h){o[h]=m/l}),a){var u=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=u-o.y}}else o={x:0,y:0,width:0,height:0};return i.rotatable&&(o.rotate=n.rotate||0),i.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(a){var i=this.options,n=this.imageData,s=this.canvasData,r={};if(this.ready&&!this.disabled&&Ge(a)){var o=!1;i.rotatable&&$(a.rotate)&&a.rotate!==n.rotate&&(n.rotate=a.rotate,o=!0),i.scalable&&($(a.scaleX)&&a.scaleX!==n.scaleX&&(n.scaleX=a.scaleX,o=!0),$(a.scaleY)&&a.scaleY!==n.scaleY&&(n.scaleY=a.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=n.width/n.naturalWidth;$(a.x)&&(r.left=a.x*l+s.left),$(a.y)&&(r.top=a.y*l+s.top),$(a.width)&&(r.width=a.width*l),$(a.height)&&(r.height=a.height*l),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?X({},this.containerData):{}},getImageData:function(){return this.sized?X({},this.imageData):{}},getCanvasData:function(){var a=this.canvasData,i={};return this.ready&&J(["left","top","width","height","naturalWidth","naturalHeight"],function(n){i[n]=a[n]}),i},setCanvasData:function(a){var i=this.canvasData,n=i.aspectRatio;return this.ready&&!this.disabled&&Ge(a)&&($(a.left)&&(i.left=a.left),$(a.top)&&(i.top=a.top),$(a.width)?(i.width=a.width,i.height=a.width/n):$(a.height)&&(i.height=a.height,i.width=a.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var a=this.cropBoxData,i;return this.ready&&this.cropped&&(i={left:a.left,top:a.top,width:a.width,height:a.height}),i||{}},setCropBoxData:function(a){var i=this.cropBoxData,n=this.options.aspectRatio,s,r;return this.ready&&this.cropped&&!this.disabled&&Ge(a)&&($(a.left)&&(i.left=a.left),$(a.top)&&(i.top=a.top),$(a.width)&&a.width!==i.width&&(s=!0,i.width=a.width),$(a.height)&&a.height!==i.height&&(r=!0,i.height=a.height),n&&(s?i.height=i.width/n:r&&(i.width=i.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,n=co(this.image,this.imageData,i,a);if(!this.cropped)return n;var s=this.getData(a.rounded),r=s.x,o=s.y,l=s.width,u=s.height,d=n.width/Math.floor(i.naturalWidth);d!==1&&(r*=d,o*=d,l*=d,u*=d);var m=l/u,h=Ie({aspectRatio:m,width:a.maxWidth||1/0,height:a.maxHeight||1/0}),g=Ie({aspectRatio:m,width:a.minWidth||0,height:a.minHeight||0},"cover"),w=Ie({aspectRatio:m,width:a.width||(d!==1?n.width:l),height:a.height||(d!==1?n.height:u)}),D=w.width,L=w.height;D=Math.min(h.width,Math.max(g.width,D)),L=Math.min(h.height,Math.max(g.height,L));var C=document.createElement("canvas"),I=C.getContext("2d");C.width=Ke(D),C.height=Ke(L),I.fillStyle=a.fillColor||"transparent",I.fillRect(0,0,D,L);var R=a.imageSmoothingEnabled,b=R===void 0?!0:R,y=a.imageSmoothingQuality;I.imageSmoothingEnabled=b,y&&(I.imageSmoothingQuality=y);var O=n.width,_=n.height,v=r,S=o,k,H,ee,F,G,le;v<=-l||v>O?(v=0,k=0,ee=0,G=0):v<=0?(ee=-v,v=0,k=Math.min(O,l+v),G=k):v<=O&&(ee=0,k=Math.min(l,O-v),G=k),k<=0||S<=-u||S>_?(S=0,H=0,F=0,le=0):S<=0?(F=-S,S=0,H=Math.min(_,u+S),le=H):S<=_&&(F=0,H=Math.min(u,_-S),le=H);var ae=[v,S,k,H];if(G>0&&le>0){var _e=D/l;ae.push(ee*_e,F*_e,G*_e,le*_e)}return I.drawImage.apply(I,[n].concat(Xi(ae.map(function(Pe){return Math.floor(Ke(Pe))})))),C},setAspectRatio:function(a){var i=this.options;return!this.disabled&&!_a(a)&&(i.aspectRatio=Math.max(0,a)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(a){var i=this.options,n=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var r=a===da,o=i.movable&&a===Qi;a=r||o?a:Ji,i.dragMode=a,mt(n,ht,a),qe(n,ca,r),qe(n,ua,o),i.cropBoxMovable||(mt(s,ht,a),qe(s,ca,r),qe(s,ua,o))}return this}},To=ye.Cropper,En=(function(){function e(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ms(this,e),!a||!Ks.test(a.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=a,this.options=X({},un,Ge(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Us(e,[{key:"init",value:function(){var i=this.element,n=i.tagName.toLowerCase(),s;if(!i[Y]){if(i[Y]=this,n==="img"){if(this.isImg=!0,s=i.getAttribute("src")||"",this.originalUrl=s,!s)return;s=i.src}else n==="canvas"&&window.HTMLCanvasElement&&(s=i.toDataURL());this.load(s)}}},{key:"load",value:function(i){var n=this;if(i){this.url=i,this.imageData={};var s=this.element,r=this.options;if(!r.rotatable&&!r.scalable&&(r.checkOrientation=!1),!r.checkOrientation||!window.ArrayBuffer){this.clone();return}if(zs.test(i)){Gs.test(i)?this.read(ho(i)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==on&&o.abort()},o.onload=function(){n.read(o.response)},o.onloadend=function(){n.reloading=!1,n.xhr=null},r.checkCrossOrigin&&gn(i)&&s.crossOrigin&&(i=_n(i)),o.open("GET",i,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(i){var n=this.options,s=this.imageData,r=po(i),o=0,l=1,u=1;if(r>1){this.url=mo(i,on);var d=go(r);o=d.rotate,l=d.scaleX,u=d.scaleY}n.rotatable&&(s.rotate=o),n.scalable&&(s.scaleX=l,s.scaleY=u),this.clone()}},{key:"clone",value:function(){var i=this.element,n=this.url,s=i.crossOrigin,r=n;this.options.checkCrossOrigin&&gn(n)&&(s||(s="anonymous"),r=_n(n)),this.crossOrigin=s,this.crossOriginUrl=r;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=r||n,o.alt=i.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),te(o,qi),i.parentNode.insertBefore(o,i.nextSibling)}},{key:"start",value:function(){var i=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var s=ye.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ye.navigator.userAgent),r=function(d,m){X(i.imageData,{naturalWidth:d,naturalHeight:m,aspectRatio:d/m}),i.initialImageData=X({},i.imageData),i.sizing=!1,i.sized=!0,i.build()};if(n.naturalWidth&&!s){r(n.naturalWidth,n.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),s||l.removeChild(o)},o.src=n.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var i=this.image;i.onload=null,i.onerror=null,i.parentNode.removeChild(i),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var i=this.element,n=this.options,s=this.image,r=i.parentNode,o=document.createElement("div");o.innerHTML=qs;var l=o.querySelector(".".concat(Y,"-container")),u=l.querySelector(".".concat(Y,"-canvas")),d=l.querySelector(".".concat(Y,"-drag-box")),m=l.querySelector(".".concat(Y,"-crop-box")),h=m.querySelector(".".concat(Y,"-face"));this.container=r,this.cropper=l,this.canvas=u,this.dragBox=d,this.cropBox=m,this.viewBox=l.querySelector(".".concat(Y,"-view-box")),this.face=h,u.appendChild(s),te(i,se),r.insertBefore(l,i.nextSibling),ve(s,qi),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,te(m,se),n.guides||te(m.getElementsByClassName("".concat(Y,"-dashed")),se),n.center||te(m.getElementsByClassName("".concat(Y,"-center")),se),n.background&&te(l,"".concat(Y,"-bg")),n.highlight||te(h,Ws),n.cropBoxMovable&&(te(h,ua),mt(h,ht,la)),n.cropBoxResizable||(te(m.getElementsByClassName("".concat(Y,"-line")),se),te(m.getElementsByClassName("".concat(Y,"-point")),se)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),oe(n.ready)&&de(i,nn,n.ready,{once:!0}),Qe(i,nn)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var i=this.cropper.parentNode;i&&i.removeChild(this.cropper),ve(this.element,se)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=To,e}},{key:"setDefaults",value:function(i){X(un,Ge(i)&&i)}}])})();X(En.prototype,_o,bo,Eo,yo,vo,No);const wo=c.defineComponent({name:"UploadEntry",setup(){const{t:e}=$e();return{t:e}},props:{file:{type:File,required:!0},baseUrl:{type:String,required:!0},maxSize:{type:Number,default:0},mimetypes:{type:Array,default:()=>[]},automatic:{type:Boolean,default:!0},withCropping:{type:Boolean,default:!1},croppingOptions:{type:Object,default:()=>({})}},emits:{setToken(e){return e.length>0},delete(){return!0}},data(){return{uploadFile:null,progress:0,token:"",error:"",isCropped:!1,cropper:null}},computed:{showCropper(){return this.withCropping&&this.isImage&&!this.isCropped},isImage:function(){return this.file.type.split("/")[0]==="image"},fileUrl:function(){return this.uploadFile?URL.createObjectURL(this.uploadFile):""},humanizedSize:function(){return ia(this.file.size)}},mounted(){this.uploadFile=this.file,this.maxSize&&this.file.size>this.maxSize?this.error=this.t("upload_entry.too_large"):this.mimetypes.length&&!this.mimetypes.includes(this.file.type)?this.error=this.t("upload_entry.wrong_type",{count:this.mimetypes.length,types:this.mimetypes.join(", ")}):this.automatic&&!this.withCropping?this.sendFile():this.withCropping||xi.on("upload",this.sendFile)},methods:{crop(){if(this.cropper===null){console.error("cropper is null.");return}this.cropper.getCroppedCanvas().toBlob(e=>{if(e===null){console.error("blob is null.");return}this.uploadFile=new File([e],this.file.name,{type:this.file.type}),jQuery(this.$refs.cropperModal).modal("hide"),this.isCropped=!0,this.automatic&&this.sendFile()})},initializeCropper(){this.cropper=new En(this.$refs.image,{minContainerWidth:600,minContainerHeight:300,viewMode:2,autoCropArea:1,movable:!1,rotatable:!1,scalable:!1,zoomable:!1,toggleDragModeOnDblclick:!1,...this.croppingOptions}),jQuery(this.$refs.cropperModal).modal("show")},revokeUrl:function(e){URL.revokeObjectURL(e)},sendFile:function(){if(this.uploadFile===null){console.error("uploadFile is null.");return}const e=new XMLHttpRequest;e.upload.addEventListener("progress",i=>{this.progress=Math.round(i.loaded*100/i.total)},!1),e.open("POST",`${this.baseUrl}request-upload`,!0),e.addEventListener("readystatechange",()=>{if(e.readyState===4&&e.status>=200&&e.status<=300){const i=JSON.parse(e.responseText);this.$emit("setToken",i.token)}else{let i;try{i=JSON.parse(e.responseText).detail}catch{i=e.statusText}this.error=this.t("request_error",{error:i})}});const a=new FormData;a.append("file",this.uploadFile),e.send(a)}}}),gt=(e,a)=>{const i=e.__vccOpts||e;for(const[n,s]of a)i[n]=s;return i},Oo={class:"media d-flex"},Co={key:0,class:"media-left"},Do=["src","alt"],Lo={class:"media-body"},ko={class:"media-heading fs-5"},So={class:"fs-6 text-secondary"},Io={class:"text-nowrap"},Po={key:0,class:"progress"},Ao=["aria-valuenow"],Ro={class:"sr-only visually-hidden"},Mo={key:1,class:"text-danger"},Uo={class:"media-right"},Fo={key:0,ref:"cropperModal",class:"modal fade",tabindex:"-1",role:"dialog","data-backdrop":"static","data-bs-backdrop":"static"},$o={class:"modal-dialog modal-lg",role:"document"},Vo={class:"modal-content"},xo={class:"modal-header"},Bo={class:"modal-title"},Wo={class:"modal-body"},Ho=["src","alt"],Yo={class:"modal-footer"};function Xo(e,a,i,n,s,r){return c.openBlock(),c.createElementBlock(c.Fragment,null,[c.createElementVNode("li",Oo,[e.isImage&&e.uploadFile&&(!e.withCropping||e.isCropped)?(c.openBlock(),c.createElementBlock("div",Co,[c.createElementVNode("img",{class:"media-object img-thumbnail",src:e.fileUrl,alt:e.uploadFile.name,width:"80",onLoad:a[0]||(a[0]=o=>e.revokeUrl(e.fileUrl))},null,40,Do)])):c.createCommentVNode("",!0),c.createElementVNode("div",Lo,[c.createElementVNode("h4",ko,[c.createTextVNode(c.toDisplayString(e.file.name)+" ",1),c.createElementVNode("small",So,[c.createElementVNode("span",Io,c.toDisplayString(e.humanizedSize),1),c.createTextVNode(" ("+c.toDisplayString(e.file.type)+")",1)])]),e.error?(c.openBlock(),c.createElementBlock("span",Mo,c.toDisplayString(e.error),1)):(c.openBlock(),c.createElementBlock("div",Po,[c.createElementVNode("div",{class:"progress-bar progress-bar-striped active",role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100",style:c.normalizeStyle({width:`${e.progress}%`})},[c.createElementVNode("span",Ro,c.toDisplayString(e.t("upload_entry.completion",{progress:e.progress})),1)],12,Ao)]))]),c.createElementVNode("div",Uo,[c.createElementVNode("button",{type:"button",class:"btn btn-danger",onClick:a[1]||(a[1]=o=>e.$emit("delete"))},[...a[5]||(a[5]=[c.createElementVNode("span",{class:"fas fa-trash-alt"},null,-1)])])])]),e.showCropper?(c.openBlock(),c.createElementBlock("div",Fo,[c.createElementVNode("div",$o,[c.createElementVNode("div",Vo,[c.createElementVNode("div",xo,[c.createElementVNode("h4",Bo,c.toDisplayString(e.t("upload_entry.crop_header")),1)]),c.createElementVNode("div",Wo,[c.createElementVNode("img",{ref:"image",src:e.fileUrl,alt:e.file.name,onLoad:a[2]||(a[2]=(...o)=>e.initializeCropper&&e.initializeCropper(...o))},null,40,Ho)]),c.createElementVNode("div",Yo,[c.createElementVNode("button",{type:"button",class:"btn btn-primary",onClick:a[3]||(a[3]=(...o)=>e.crop&&e.crop(...o))},c.toDisplayString(e.t("upload_entry.crop")),1),c.createElementVNode("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal","data-bs-dismiss":"modal",onClick:a[4]||(a[4]=o=>e.$emit("delete"))},c.toDisplayString(e.t("upload_entry.cancel")),1)])])])],512)):c.createCommentVNode("",!0)],64)}const jo=gt(wo,[["render",Xo]]),zo=c.defineComponent({name:"ViewingModal",setup(){const{t:e}=$e();return{t:e}},props:{baseUrl:{type:String,required:!0},value:{type:String,required:!0},id:{type:String,required:!0},file:{type:Object,required:!0},isEditable:{type:Boolean,default:!0},openOnMount:{type:Boolean,default:!1}},emits:{updateToken(e){return e.length>0}},data:function(){return{rotation:0,originalHeight:null,originalWidth:null,modalHeight:"auto",modalWidth:"auto",error:"",saved:!1}},computed:{isImage:function(){return this.file.mimetype.split("/")[0]==="image"},imageStyle:function(){let e=`rotate(${this.rotation}deg)`;this.isQuarterRotated?e+=` translate(${this.isRotated90CounterClockwise?"-50%":"50%"}, -50%)`:this.isRotated&&(e+=" translate(0, -100%)");const a=this.$refs.modal,i=this.originalHeight&&this.isQuarterRotated&&a.clientWidth<this.originalHeight?`${a.clientWidth-30}px`:"auto";return{transform:e,height:i}},isRotated:function(){return this.rotation%360},isQuarterRotated:function(){return this.rotation%180},isRotated90CounterClockwise:function(){return[-90,270].includes(this.rotation%360)}},watch:{rotation:"changeModalHeight"},mounted(){jQuery(this.$el).on("shown.bs.modal",()=>{this.originalHeight||this.imageLoaded(this.$refs.img),this.changeModalHeight()}),this.openOnMount&&jQuery(this.$el).modal("show")},beforeUnmount(){jQuery(this.$el).modal("hide")},methods:{imageLoaded:async function(e){await c.nextTick(),this.originalHeight=e.clientHeight,this.originalWidth=e.clientWidth,this.changeModalHeight()},changeModalHeight:function(){if(!this.originalWidth||!this.originalHeight)return"auto";const e=this.$refs.modal;this.isQuarterRotated&&e.clientWidth<this.originalHeight?this.modalHeight=`${e.clientWidth*this.originalWidth/this.originalHeight+30}px`:this.modalHeight=`${(this.isQuarterRotated?this.originalWidth:this.originalHeight)+30}px`},saveRotation:async function(){try{const e=await lt(`${this.baseUrl}rotate-image/${this.value}`,{method:"POST",body:JSON.stringify({rotate:this.rotation})});this.saved=!0,this.rotation=0,this.$emit("updateToken",e.token),this.error=""}catch(e){this.error=e.message}}}}),Go=["id"],Ko={class:"modal-dialog modal-lg",role:"document"},qo={class:"modal-content"},Qo={class:"modal-header"},Jo=["aria-label"],Zo={class:"modal-title"},el=["aria-label"],tl=["src","alt"],al={key:1,class:"embed-responsive embed-responsive-16by9"},il=["data"],nl=["src"],rl={class:"modal-footer"},sl={class:"row"},ol={key:0,class:"col-sm-10 text-left"},ll=["disabled"],cl={key:0,class:"text-danger"},ul={class:"col-sm-2 pull-right"},dl={type:"button",class:"btn btn-default","data-dismiss":"modal","data-bs-dismiss":"modal"};function fl(e,a,i,n,s,r){return c.openBlock(),c.createElementBlock("div",{id:`modal-${e.id}`,class:"modal fade",tabindex:"-1",role:"dialog"},[c.createElementVNode("div",Ko,[c.createElementVNode("div",qo,[c.createElementVNode("div",Qo,[c.createElementVNode("button",{type:"button",class:"close hide-bs3-element","data-dismiss":"modal","data-bs-dismiss":"modal","aria-label":e.t("view_entry.close")},[...a[4]||(a[4]=[c.createElementVNode("span",{"aria-hidden":"true"},"×",-1)])],8,Jo),c.createElementVNode("h4",Zo,c.toDisplayString(e.file.name),1),c.createElementVNode("button",{type:"button",class:"btn-close d-none display-bs5-element","data-dismiss":"modal","data-bs-dismiss":"modal","aria-label":e.t("view_entry.close")},null,8,el)]),c.createElementVNode("div",{ref:"modal",class:"modal-body",style:c.normalizeStyle([{transition:"500ms",overflow:"hidden","max-width":"100%"},{height:e.modalHeight}])},[e.isImage?(c.openBlock(),c.createElementBlock("img",{key:0,ref:"img",src:e.file.url,alt:e.file.name,class:"img-responsive",style:c.normalizeStyle([{transition:"500ms","transform-origin":"top center",margin:"0 auto"},e.imageStyle]),onLoad:a[0]||(a[0]=o=>e.imageLoaded(o.target))},null,44,tl)):(c.openBlock(),c.createElementBlock("div",al,[c.createElementVNode("object",{data:e.file.url,type:"application/pdf",class:"embed-responsive-item"},[c.createElementVNode("embed",{src:e.file.url,type:"application/pdf"},null,8,nl)],8,il)]))],4),c.createElementVNode("div",rl,[c.createElementVNode("div",sl,[e.isImage&&e.isEditable?(c.openBlock(),c.createElementBlock("div",ol,[c.createElementVNode("button",{type:"button",class:"btn btn-default",onClick:a[1]||(a[1]=o=>e.rotation-=90)},[...a[5]||(a[5]=[c.createElementVNode("i",{class:"fas fa-undo"},null,-1)])]),c.createElementVNode("button",{type:"button",class:"btn btn-default",onClick:a[2]||(a[2]=o=>e.rotation+=90)},[...a[6]||(a[6]=[c.createElementVNode("i",{class:"fas fa-redo"},null,-1)])]),c.createElementVNode("button",{type:"button",class:"btn btn-default",disabled:!e.isRotated,onClick:a[3]||(a[3]=(...o)=>e.saveRotation&&e.saveRotation(...o))},[c.createElementVNode("i",{class:c.normalizeClass(`fas fa-${e.saved?"check":"save"}`)},null,2),c.createTextVNode(" "+c.toDisplayString(e.t("view_entry.save")),1)],8,ll),e.error?(c.openBlock(),c.createElementBlock("span",cl,c.toDisplayString(e.t("error",{error:e.error})),1)):c.createCommentVNode("",!0)])):c.createCommentVNode("",!0),c.createElementVNode("div",ul,[c.createElementVNode("button",dl,c.toDisplayString(e.t("view_entry.close")),1)])])])])])],8,Go)}const hl=gt(zo,[["render",fl]]),ml=c.defineComponent({name:"ViewEntry",components:{ViewingModal:hl},setup(){const{t:e}=$e();return{t:e}},props:{value:{type:String,required:!0},id:{type:String,required:!0},baseUrl:{type:String,required:!0},isEditable:{type:Boolean,default:!0},editableFilename:{type:Boolean,default:!0},getProgressUrl:{type:String,default:""},postProcessStatus:{type:String,default:""},baseUuid:{type:String,default:""},wantedPostProcess:{type:String,default:""}},emits:{updateToken(e){return e.length>0},delete(){return!0}},data(){return{file:null,loading:!0,inPostProcessing:!1,postProcessingProgress:0,error:"",name:"",extension:"",saved:!1,intervalProgress:setInterval(()=>{},3e5),getRemoteTokenResponse:{token:""}}},computed:{isImage:function(){return this.file?.mimetype.split("/")[0]==="image"},isViewableDocument:function(){const e=this.file.mimetype;return e.split("/")[0]==="image"||e==="application/pdf"},formattedValue:function(){return this.value.replace(/:/g,"-")},fullName:{get(){return`${this.name}${this.extension}`},set:function(e){const a=/^(.+)(\.[^.]+)$/.exec(e);a?.length===3?(this.name=a[1],this.extension=a[2]):(this.name=e,this.extension="")}}},watch:{value:"getFile"},mounted(){this.getFile()},updated(){this.inPostProcessing&&((this.getProgressUrl!==""||this.getProgressUrl!==void 0)&&this.postProcessingProgress!==100&&(clearInterval(this.intervalProgress),this.intervalProgress=setInterval(()=>{this.getProgressPostProcessing()},3e3)),this.postProcessingProgress===100&&(clearInterval(this.intervalProgress),this.inPostProcessing=!1,this.getFile()))},unmounted(){clearInterval(this.intervalProgress)},methods:{humanizedSize:ia,getFile:async function(){if(this.value==="FileInfectedException")this.error=t("view_entry.file_infected");else if(this.value===""&&this.postProcessingProgress!==100)this.inPostProcessing=!0,await this.getProgressPostProcessing();else{if(this.value===""){let a=JSON.stringify({uuid:this.baseUuid});(this.wantedPostProcess===""||this.wantedPostProcess===void 0)&&(a=JSON.stringify({uuid:this.baseUuid,wanted_post_process:this.wantedPostProcess})),this.getRemoteTokenResponse=await lt(`${this.baseUrl}read-token/${this.baseUuid}`,{method:"POST",body:a})}const e=this.getRemoteTokenResponse.token!==""?`${this.baseUrl}metadata/${this.getRemoteTokenResponse.token}`:`${this.baseUrl}metadata/${this.value}`;try{this.file=await lt(e),this.fullName=this.file.name}catch(a){this.error=a.message}}this.loading=!1},getProgressPostProcessing:async function(){if(this.postProcessingProgress!==100&&this.getProgressUrl!=="")try{let e="";this.wantedPostProcess?e=this.getProgressUrl+"?wanted_post_process="+this.wantedPostProcess:e=this.getProgressUrl;const a=await lt(`${e}`,{method:"GET"});this.postProcessingProgress=a.progress}catch(e){this.error=e.message}},saveName:async function(){try{await lt(`${this.baseUrl}change-metadata/${this.value}`,{method:"POST",body:JSON.stringify({name:this.fullName})}),this.saved=!0,this.file.name=this.fullName}catch(e){this.error=e.message}}}}),pl={class:"media d-flex"},gl={key:0,class:"media-body"},_l={class:"progress"},bl={class:"progress-bar progress-bar-striped active",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}},El={class:"sr-only visually-hidden"},yl={key:1,class:"media-body"},vl={class:"progress text-center",style:{"text-align":"center"}},Nl={class:"sr-only visually-hidden"},Tl={class:"align-items-center"},wl={class:"media-body d-flex flex-grow-1"},Ol={class:"text-danger"},Cl={class:"media-right text-right"},Dl={class:"media-body d-flex flex-grow-1"},Ll={key:0,class:"media-left me-1"},kl=["src","alt"],Sl={class:"media-heading fs-5 flex-grow-1 text-start"},Il={key:0,class:"input-group"},Pl={key:0,class:"input-group-addon input-group-text"},Al={class:"input-group-btn"},Rl=["disabled"],Ml={key:1},Ul={class:"fs-6 text-secondary"},Fl={class:"text-nowrap"},$l={class:"btn-group"},Vl=["data-target","data-bs-target"],xl=["href"];function Bl(e,a,i,n,s,r){const o=c.resolveComponent("ViewingModal");return c.openBlock(),c.createElementBlock("li",pl,[e.loading?(c.openBlock(),c.createElementBlock("div",gl,[c.createElementVNode("div",_l,[c.createElementVNode("div",bl,[c.createElementVNode("span",El,c.toDisplayString(e.t("view_entry.loading")),1)])])])):e.inPostProcessing?(c.openBlock(),c.createElementBlock("div",yl,[c.createElementVNode("div",vl,[c.createElementVNode("div",{class:"progress-bar progress-bar-striped active",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:c.normalizeStyle({width:e.postProcessingProgress.toString()+"%"})},[c.createElementVNode("span",Nl,c.toDisplayString(e.t("view_entry.loading")),1)],4),c.createElementVNode("span",Tl,"Avancement du post processing : "+c.toDisplayString(e.postProcessingProgress)+" %",1)])])):e.error?(c.openBlock(),c.createElementBlock(c.Fragment,{key:2},[c.createElementVNode("div",wl,[c.createElementVNode("span",Ol,c.toDisplayString(e.t("error",{error:e.error})),1)]),c.createElementVNode("div",Cl,[e.isEditable?(c.openBlock(),c.createElementBlock("button",{key:0,class:"btn btn-danger",type:"button",onClick:a[0]||(a[0]=l=>e.$emit("delete"))},[...a[6]||(a[6]=[c.createElementVNode("span",{class:"fas fa-trash-alt"},null,-1)])])):c.createCommentVNode("",!0)])],64)):e.file?(c.openBlock(),c.createElementBlock(c.Fragment,{key:3},[c.createElementVNode("div",Dl,[e.isImage?(c.openBlock(),c.createElementBlock("div",Ll,[c.createElementVNode("img",{class:"media-object img-thumbnail",src:e.file.url,alt:e.file.name,width:"80"},null,8,kl)])):c.createCommentVNode("",!0),c.createElementVNode("h4",Sl,[e.isEditable&&e.editableFilename?(c.openBlock(),c.createElementBlock("div",Il,[c.withDirectives(c.createElementVNode("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>e.name=l),type:"text",class:"form-control",onInput:a[2]||(a[2]=l=>e.saved=!1)},null,544),[[c.vModelText,e.name]]),e.extension?(c.openBlock(),c.createElementBlock("span",Pl,c.toDisplayString(e.extension),1)):c.createCommentVNode("",!0),c.createElementVNode("span",Al,[c.createElementVNode("button",{type:"button",disabled:e.file.name===e.fullName,class:"btn btn-default border",onClick:a[3]||(a[3]=(...l)=>e.saveName&&e.saveName(...l))},[c.createElementVNode("i",{class:c.normalizeClass(`fas fa-${e.saved?"check":"save"}`)},null,2)],8,Rl)])])):(c.openBlock(),c.createElementBlock("div",Ml,c.toDisplayString(e.file.name),1)),c.createElementVNode("small",Ul,[c.createElementVNode("span",Fl,c.toDisplayString(e.humanizedSize(e.file.size)),1),c.createTextVNode(" ("+c.toDisplayString(e.file.mimetype)+")",1)])])]),c.createElementVNode("div",{class:"media-right float-end text-end",style:c.normalizeStyle({"min-width":e.isViewableDocument?"9.5em":"7em"})},[c.createElementVNode("div",$l,[e.isViewableDocument?(c.openBlock(),c.createElementBlock("a",{key:0,class:"btn btn-default border","data-toggle":"modal","data-bs-toggle":"modal","data-target":`#modal-${e.formattedValue}`,"data-bs-target":`#modal-${e.formattedValue}`},[...a[7]||(a[7]=[c.createElementVNode("span",{class:"fas fa-eye"},null,-1)])],8,Vl)):c.createCommentVNode("",!0),c.createElementVNode("a",{class:"btn btn-default border",target:"_blank",href:`${e.file.url}?dl=1`},[...a[8]||(a[8]=[c.createElementVNode("span",{class:"fas fa-download"},null,-1)])],8,xl),e.isEditable?(c.openBlock(),c.createElementBlock("button",{key:1,class:"btn btn-danger",type:"button",onClick:a[4]||(a[4]=l=>e.$emit("delete"))},[...a[9]||(a[9]=[c.createElementVNode("span",{class:"fas fa-trash-alt"},null,-1)])])):c.createCommentVNode("",!0)])],4),e.isViewableDocument?(c.openBlock(),c.createBlock(o,{key:0,id:e.formattedValue,file:e.file,"is-editable":e.isEditable,value:e.value,"base-url":e.baseUrl,onUpdateToken:a[5]||(a[5]=l=>e.$emit("updateToken",l))},null,8,["id","file","is-editable","value","base-url"])):c.createCommentVNode("",!0)],64)):c.createCommentVNode("",!0)])}const yn=gt(ml,[["render",Bl]]),Wl="osisdocument:",Hl="add",Yl="delete",Xl=c.defineComponent({name:"DocumentUploader",components:{UploadEntry:jo,ViewEntry:yn},setup(){const{t:e}=$e();return{t:e}},props:{name:{type:String,required:!0},baseUrl:{type:String,required:!0},uploadText:{type:String,default:null},uploadButtonText:{type:String,default:null},maxSize:{type:Number,default:0},automaticUpload:{type:Boolean,default:!0},editableFilename:{type:Boolean,default:!0},values:{type:Array,default:()=>[]},mimetypes:{type:Array,default:()=>[]},minFiles:{type:Number,default:0},maxFiles:{type:Number,default:0},withCropping:{type:Boolean,default:!1},croppingOptions:{type:Object,default:()=>({})}},data(){let e=0;return{isDragging:!1,fileList:{},tokens:Object.fromEntries(this.values.map(a=>(e++,[e,a]))),indexGenerated:e}},computed:{filteredTokens:function(){return Object.fromEntries(Object.entries(this.tokens).filter(e=>!!e[1]))},cleanedTokens:function(){return Object.fromEntries(Object.entries(this.tokens).filter(e=>!!e[1]&&!["FileInfectedException","UploadInvalidException"].includes(e[1])))},nbUploadedFiles:function(){return Object.values(this.cleanedTokens).length},dragNDropLabel:function(){return this.minFiles?this.minFiles===this.maxFiles?this.t("uploader.specific_nb_drag_n_drop_label",{count:this.minFiles}):this.maxFiles?this.t("uploader.min_max_drag_n_drop_label",{min:this.minFiles,max:this.maxFiles}):this.t("uploader.min_drag_n_drop_label",{count:this.minFiles}):this.maxFiles?this.t("uploader.max_drag_n_drop_label",{count:this.maxFiles}):this.t("uploader.drag_n_drop_label")}},watch:{cleanedTokens:{handler(e,a){if(JSON.stringify(a)!==JSON.stringify(e)){const i=Object.keys(a).length>Object.keys(e).length?Yl:Hl,n=new CustomEvent(Wl+i,{bubbles:!0,detail:{newTokens:e,oldTokens:a}});this.$el.dispatchEvent(n)}}}},mounted(){jQuery("> input",this.$el).on("change",e=>{jQuery(e.target).val()||(this.tokens={})})},methods:{humanizedSize:ia,triggerUpload(){xi.emit("upload")},onFilePicked(e){const a=e.target.files;this.isDragging=!1,a&&Array.from(a).forEach(i=>{this.indexGenerated++,this.fileList[this.indexGenerated]=i,this.tokens[this.indexGenerated]=null}),this.$refs.fileInput.value=""}}}),jl=["accept"],zl={key:0},Gl={key:1,class:"media-list list-unstyled"},Kl={key:2,class:"text-right form-group"},ql={class:"media-list ps-0 list-unstyled"},Ql=["name","value"];function Jl(e,a,i,n,s,r){const o=c.resolveComponent("UploadEntry"),l=c.resolveComponent("ViewEntry");return c.openBlock(),c.createElementBlock(c.Fragment,null,[e.maxFiles===0||e.nbUploadedFiles<e.maxFiles?(c.openBlock(),c.createElementBlock("div",{key:0,class:c.normalizeClass(["dropzone form-group",{hovering:e.isDragging}]),onDragenter:a[3]||(a[3]=u=>e.isDragging=!0)},[c.createElementVNode("input",{ref:"fileInput",type:"file",multiple:"",accept:e.mimetypes.length?e.mimetypes.join(","):void 0,onDragleave:a[0]||(a[0]=u=>e.isDragging=!1),onChange:a[1]||(a[1]=(...u)=>e.onFilePicked&&e.onFilePicked(...u))},null,40,jl),c.createTextVNode(" "+c.toDisplayString(e.uploadText||e.dragNDropLabel)+" ",1),c.createElementVNode("button",{class:"btn btn-default border",type:"button",onClick:a[2]||(a[2]=u=>e.$refs.fileInput.click())},[a[5]||(a[5]=c.createElementVNode("span",{class:"fa-solid fa-plus"},null,-1)),c.createTextVNode(" "+c.toDisplayString(e.uploadButtonText||e.t("uploader.add_file_label")),1)]),e.maxSize?(c.openBlock(),c.createElementBlock("span",zl,c.toDisplayString(e.t("uploader.max_size_label",{size:e.humanizedSize(e.maxSize)})),1)):c.createCommentVNode("",!0)],34)):c.createCommentVNode("",!0),e.fileList?(c.openBlock(),c.createElementBlock("ul",Gl,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(e.fileList,(u,d)=>(c.openBlock(),c.createBlock(o,{key:d,file:u,"base-url":e.baseUrl,"max-size":e.maxSize,mimetypes:e.mimetypes,automatic:e.automaticUpload,"with-cropping":e.withCropping,"cropping-options":e.croppingOptions,onDelete:m=>{delete e.fileList[d],delete e.tokens[d]},onSetToken:m=>{e.tokens[d]=m,delete e.fileList[d]}},null,8,["file","base-url","max-size","mimetypes","automatic","with-cropping","cropping-options","onDelete","onSetToken"]))),128))])):c.createCommentVNode("",!0),!e.automaticUpload&&Object.values(e.fileList).length?(c.openBlock(),c.createElementBlock("div",Kl,[c.createElementVNode("button",{class:"btn btn-default",type:"button",onClick:a[4]||(a[4]=(...u)=>e.triggerUpload&&e.triggerUpload(...u))},c.toDisplayString(e.t("uploader.trigger_upload")),1)])):c.createCommentVNode("",!0),c.createElementVNode("ul",ql,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(e.filteredTokens,(u,d)=>(c.openBlock(),c.createBlock(l,{id:`${e.name}-${d}`,key:d,value:u,"base-url":e.baseUrl,editable:!0,"editable-filename":e.editableFilename,onDelete:m=>delete e.tokens[d],onUpdateToken:m=>e.tokens[d]=m},null,8,["id","value","base-url","editable-filename","onDelete","onUpdateToken"]))),128))]),(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(Object.values(e.cleanedTokens),(u,d)=>(c.openBlock(),c.createElementBlock("input",{key:`${e.name}_${d}`,type:"hidden",name:`${e.name}_${d}`,value:u},null,8,Ql))),128))],64)}const Zl=gt(Xl,[["render",Jl]]),ec=c.defineComponent({name:"DocumentVisualizer",components:{ViewEntry:yn},props:{baseUrl:{type:String,required:!0},values:{type:Array,required:!0},postProcessStatus:{type:String,required:!0},getProgressUrl:{type:String,required:!0},baseUuid:{type:String,required:!0},wantedPostProcess:{type:String,required:!0}}}),tc={class:"media-list list-unstyled"};function ac(e,a,i,n,s,r){const o=c.resolveComponent("ViewEntry");return c.openBlock(),c.createElementBlock("ul",tc,[(c.openBlock(!0),c.createElementBlock(c.Fragment,null,c.renderList(e.values,(l,u)=>(c.openBlock(),c.createBlock(o,{id:u.toString(),key:u,value:l,"base-url":e.baseUrl,"is-editable":!1,"get-progress-url":e.getProgressUrl,"post-process-status":e.postProcessStatus,"base-uuid":e.baseUuid,"wanted-post-process":e.wantedPostProcess},null,8,["id","value","base-url","get-progress-url","post-process-status","base-uuid","wanted-post-process"]))),128))])}const ic=gt(ec,[["render",ac]]);window.i18n=It;function vn(){document.querySelectorAll(".osis-document-uploader:not([data-v-app])").forEach(e=>{const a={baseUrl:"",...e.dataset};typeof e.dataset.maxSize<"u"&&(a.maxSize=Number.parseInt(e.dataset.maxSize)),typeof e.dataset.minFiles<"u"&&(a.minFiles=Number.parseInt(e.dataset.minFiles)),typeof e.dataset.maxFiles<"u"&&(a.maxFiles=Number.parseInt(e.dataset.maxFiles)),typeof e.dataset.mimetypes<"u"&&(a.mimetypes=e.dataset.mimetypes.split(",")),typeof e.dataset.values<"u"&&(a.values=e.dataset.values.split(",")),typeof e.dataset.automaticUpload<"u"&&(a.automaticUpload=e.dataset.automaticUpload==="true"),typeof e.dataset.editableFilename<"u"&&(a.editableFilename=e.dataset.editableFilename==="true"),typeof e.dataset.withCropping<"u"&&(a.withCropping=e.dataset.withCropping==="true"),typeof e.dataset.croppingOptions<"u"&&(a.croppingOptions=JSON.parse(e.dataset.croppingOptions));const i=Me.createApp(Zl,a);i.use(It),i.mount(e)}),document.querySelectorAll(".osis-document-visualizer:not([data-v-app])").forEach(e=>{const a={baseUrl:"",values:[],postProcessStatus:"",getProgressUrl:"",baseUuid:"",wantedPostProcess:"",...e.dataset};typeof e.dataset.values<"u"&&(a.values=e.dataset.values.split(",")),typeof e.dataset.postProcessStatus<"u"&&(a.postProcessStatus=e.dataset.postProcessStatus),typeof e.dataset.getProgressUrl<"u"&&(a.getProgressUrl=e.dataset.getProgressUrl),typeof e.dataset.baseUuid<"u"&&(a.baseUuid=e.dataset.baseUuid),typeof e.dataset.wantedPostProcess<"u"&&(a.wantedPostProcess=e.dataset.wantedPostProcess);const i=Me.createApp(ic,a);i.use(It),i.mount(e)})}vn(),new MutationObserver(vn).observe(document,{childList:!0,subtree:!0})}));
//# sourceMappingURL=osis-document.umd.min.js.map
